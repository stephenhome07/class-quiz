<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HKDSE Physics Trainer V7.3.1 (History Added)</title>
    
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        body { font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; background-color: #f8fafc; }
        .sub-topic-tag { font-family: 'Courier New', monospace; font-weight: bold; }
        .stats-list { max-height: 500px; overflow-y: auto; padding-right: 5px; }
        .stats-list::-webkit-scrollbar { width: 6px; }
        .stats-list::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 3px; }
        .stats-list::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
    </style>
</head>
<body>
    
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo, useRef } = React;

        // ==========================================
        // 0. é è¨­æ¨™æº–ç­”æ¡ˆæ•¸æ“šåº« (PRELOADED_KEYS)
        // ==========================================
        
        const PRELOADED_KEYS = {
            "2014_1A": {
                1: "D", 2: "A", 3: "C", 4: "A", 5: "B",
                6: "D", 7: "C", 8: "C", 9: "B", 10: "B",
                11: "B", 12: "B", 13: "B", 14: "A", 15: "C",
                16: "A", 17: "B", 18: "C", 19: "A", 20: "C",
                21: "D", 22: "D", 23: "B", 24: "C", 25: "D",
                26: "A", 27: "D", 28: "D", 29: "B", 30: "B",
                31: "D", 32: "A", 33: "C"
            },
             "2014_2_E3": {
                1: "A", 2: "C", 3: "D", 4: "C", 
                5: "B", 6: "D", 7: "B", 8: "A" 
            },
            "2014_2_E4": {
                1: "A", 2: "D", 3: "B", 4: "C", 
                5: "C", 6: "D", 7: "B", 8: "A" 
            },
            "2016_1A": {
                1: "D", 2: "A", 3: "B", 4: "B", 5: "C",
                6: "D", 7: "A", 8: "C", 9: "B", 10: "B",
                11: "D", 12: "B", 13: "D", 14: "A", 15: "D",
                16: "B", 17: "C", 18: "A", 19: "C", 20: "A",
                21: "C", 22: "D", 23: "D", 24: "B", 25: "C",
                26: "C", 27: "A", 28: "B", 29: "D", 30: "C",
                31: "D", 32: "A", 33: "D"
            },
            "2016_2_E3": {
                1: "A", 2: "C", 3: "B", 4: "D", 
                5: "A", 6: "C", 7: "B", 8: "D" 
            },
            "2016_2_E4": {
                1: "B", 2: "A", 3: "C", 4: "D", 
                5: "B", 6: "A", 7: "C", 8: "D" 
            }
        };

        // ==========================================
        // 1. å®Œæ•´èª²ç¨‹å¤§ç¶± (SYLLABUS)
        // ==========================================
        const SYLLABUS_DATA = {
            // --- ç¬¬1å†Šï¼šç†±å’Œæ°£é«” (Heat and Gases) ---
            "1.1.1": { section: "Heat", topic: "é‡åº¦æ¸©åº¦", desc: "èªè­˜æ¸©åº¦ç‚ºå†·ç†±ç¨‹åº¦æ¨™èªŒï¼›åˆ©ç”¨èˆ‡æ¸©åº¦ç›¸é—œçš„ç‰©ç†æ€§è³ªé‡åº¦æ¸©åº¦ [1]" },
            "1.1.2": { section: "Heat", topic: "æ”æ°æ¸©æ¨™", desc: "å®šç¾©åŠä½¿ç”¨æ”æ°åº¦ä½œç‚ºæ¸©åº¦å–®ä½ [1]" },
            "1.2.1": { section: "Heat", topic: "å…§èƒ½èˆ‡èƒ½é‡è½‰ç§»", desc: "é€£ç¹«å…§èƒ½èˆ‡åˆ†å­éš¨æ©Ÿé‹å‹•å‹•èƒ½ï¼›æè¿°è³ªé‡å’Œæ¸©åº¦å°å…§èƒ½çš„å½±éŸ¿ï¼›ç†±ç‚ºå› æ¸©å·®å¼•è‡´çš„èƒ½é‡è½‰ç§» [1]" },
            "1.2.2": { section: "Heat", topic: "ç†±å‚³éæ–¹å¼", desc: "ä»¥åˆ†å­é‹å‹•é—¡é‡‹å‚³å°ï¼›èªè­˜ç´…å¤–è¼»å°„åŠå½±éŸ¿è¼»å°„å¸æ”¶çš„å› ç´ ï¼›é‘‘å®šå‚³å°ã€å°æµå’Œè¼»å°„ [1]" },
            "1.3.1": { section: "Heat", topic: "åŠŸç‡", desc: "å®šç¾©åŠŸç‡ P = E/t ç‚ºèƒ½é‡è½‰ç§»ç‡ [1]" },
            "1.3.2": { section: "Heat", topic: "ç†±å®¹é‡å’Œæ¯”ç†±å®¹é‡", desc: "å®šç¾©ç†±å®¹é‡åŠæ¯”ç†±å®¹é‡ï¼›è§£æ±º E=mcÎ”T ç›¸é—œå•é¡Œï¼›è¨è«–æ°´çš„é«˜æ¯”ç†±å®¹é‡ [1]" },
            "1.4.1": { section: "Heat", topic: "æ½›ç†±", desc: "å®šç¾©ç†”è§£èˆ‡æ±½åŒ–æ¯”æ½›ç†±ï¼›è§£æ±ºç‰©æ…‹æ”¹è®Šä¸­çš„èƒ½é‡å•é¡Œï¼›é—¡é‡‹æ½›ç†±ç‚ºåˆ†å­å‹¢èƒ½çš„æ”¹è®Š [1]" },
            "1.4.2": { section: "Heat", topic: "è’¸ç™¼èˆ‡å‡çµ", desc: "èªè­˜è’¸ç™¼å†·å»æ•ˆæ‡‰ï¼›ä»¥åˆ†å­é‹å‹•è§£é‡‹è’¸ç™¼ï¼›è¨è«–å½±éŸ¿è’¸ç™¼ç‡çš„å› ç´  [1]" },
            "1.5.1": { section: "Heat", topic: "æ°£é«”å®šå¾‹", desc: "æŸ¥è­‰æ³¢ç¾©è€³å®šå¾‹ï¼›æ‡‰ç”¨æ™®é©æ°£é«”å®šå¾‹ pV=nRTï¼›èªè­˜çµ•å°é›¶åº¦èˆ‡é–‹æ°æ¸©æ¨™ [1]" },
            "1.5.2": { section: "Heat", topic: "æ°£é«”åˆ†å­é‹å‹•è«–", desc: "èªè­˜æ°£é«”å£“å¼·æºæ–¼åˆ†å­ç¢°æ’ï¼›ç†æƒ³æ°£é«”æ¨¡å‹å‡å®šï¼›ä»¥å¾®è§€å‹•èƒ½é—¡é‡‹ç†æƒ³æ°£é«”æ¸©åº¦ [1]" },
                   // --- ç¬¬1èª²ï¼šé‹ å‹• (Motion) ---
            "2.1.1": { section: "Mech", topic: "é•·åº¦å’Œæ™‚é–“", desc: "èªè­˜åœ‹éš›å–®ä½åˆ¶ä¸­çš„ç±³(m)å’Œç§’(s)ï¼›æ¸¬é‡åŸºæœ¬ç‰©ç†é‡ [1]" },
            "2.1.2": { section: "Mech", topic: "è·é›¢å’Œä½ç§»", desc: "ä»¥è·é›¢å’Œä½ç§»æè¿°ä½ç½®æ”¹è®Šï¼›å€åˆ¥æ¨™é‡ (Scalar) å’ŒçŸ¢é‡ (Vector) [1]" },
            "2.1.3": { section: "Mech", topic: "é€Ÿç‡ã€é€Ÿåº¦å’ŒåŠ é€Ÿåº¦", desc: "å®šç¾©å¹³å‡/ç¬æ™‚é€Ÿåº¦ï¼›å®šç¾©åŠ é€Ÿåº¦ï¼›ä»¥é€Ÿç‡å’Œé€Ÿåº¦æè¿°ç‰©é«”é‹å‹• [1]" },
            "2.1.4": { section: "Mech", topic: "èª¤å·®ä¼°ç®—", desc: "èªè­˜åæ‡‰æ™‚é–“ï¼›è§£æ±ºå¯¦é©—ä¸­çš„ç™¾åˆ†èª¤å·®å•é¡Œ [1]" },
        
            // --- ç¬¬2èª²ï¼šç›´ç·šé‹å‹• (Rectilinear Motion) ---
            "2.2.1": { section: "Mech", topic: "æè¿°ç›´ç·šé‹å‹•", desc: "ä½¿ç”¨çŸ¢é‡è™Ÿèˆ‡ç¬¦è™Ÿç³»çµ±æè¿°ç›´ç·šé‹å‹•çš„ç‰©ç†é‡ [1]" },
            "2.2.2": { section: "Mech", topic: "é‹å‹•ç·šåœ–", desc: "è©®é‡‹ s-t, v-t, a-t åœ–ï¼›åˆ©ç”¨æ–œç‡æ±‚é€Ÿåº¦/åŠ é€Ÿåº¦ï¼›åˆ©ç”¨é¢ç©æ±‚ä½ç§» [1]" },
            "2.2.3": { section: "Mech", topic: "å‹»åŠ é€Ÿé‹å‹•æ–¹ç¨‹", desc: "æ¨å°åŠæ‡‰ç”¨ SUVAT æ–¹ç¨‹è§£æ±ºå‹»åŠ é€Ÿç›´ç·šé‹å‹•å•é¡Œ [1]" },
            "2.2.4": { section: "Mech", topic: "é‡åŠ›ä¸‹çš„å‚ç›´é‹å‹•", desc: "æª¢æ¸¬è‡ªç”±è½é«”é‹å‹•ï¼›ä¼°ç®—é‡åŠ›åŠ é€Ÿåº¦ gï¼›è¨è«–ç©ºæ°£é˜»åŠ›çš„å½±éŸ¿ [1]" },
        
            // --- ç¬¬3èª²ï¼šåŠ›èˆ‡é‹å‹• I (Force and Motion I) ---
            "2.3.1": { section: "Mech", topic: "åŠ›çš„æ¦‚å¿µ", desc: "ä½¿ç”¨ç‰›é “(N)ä½œç‚ºå–®ä½ï¼›æ˜ç™½æ‘©æ“¦åŠ›ç‚ºé˜»ç¤™é‹å‹•çš„åŠ›ï¼›ç¹ªè£½éš”é›¢é«”åœ– (FBD) [1]" },
            "2.3.2": { section: "Mech", topic: "ç‰›é “ç¬¬ä¸€å®šå¾‹", desc: "æè¿°æ…£æ€§ (Inertia) èˆ‡è³ªé‡çš„é—œä¿‚ï¼›è§£é‡‹ç‰©é«”éœæ­¢æˆ–å‹»é€Ÿé‹å‹•çš„ç‹€æ³ [1]" },
            "2.3.3": { section: "Mech", topic: "ç‰›é “ç¬¬äºŒå®šå¾‹", desc: "æè¿°æ·¨åŠ›å°é€Ÿåº¦æ”¹è®Šçš„å½±éŸ¿ï¼›å¯¦é©—æŸ¥è­‰ä¸¦æ‡‰ç”¨ F=ma è§£æ±ºä¸€ç¶­å•é¡Œ [1]" },
            "2.3.4": { section: "Mech", topic: "é‡é‡èˆ‡è³ªé‡", desc: "å€åˆ¥è³ªé‡å’Œé‡é‡ï¼›æ‡‰ç”¨ W=mg è¨ˆç®—é‡åŠ› [1]" },
            "2.3.5": { section: "Mech", topic: "æµé«”é˜»åŠ›", desc: "èªè­˜æµé«”é˜»åŠ›åŠå…¶å°ç‰©é«”é”è‡³çµ‚ç«¯é€Ÿåº¦ (Terminal Velocity) çš„å½±éŸ¿ [1]" },
            "2.3.6": { section: "Mech", topic: "æ‘©æ“¦åŠ›", desc: "èªè­˜éœæ‘©æ“¦åŠ›èˆ‡æ»‘å‹•æ‘©æ“¦åŠ›çš„ç‰¹æ€§èˆ‡è¨ˆç®— [1]" },
            "2.3.7": { section: "Mech", topic: "ç‰›é “ç¬¬ä¸‰å®šå¾‹", desc: "èªè­˜åŠ›æˆå°ä½œç”¨ï¼›é‘‘å®šä¸¦æè¿°ä½œç”¨åŠ›èˆ‡åä½œç”¨åŠ›å° (Action-reaction pair) [1]" },
        
            // --- ç¬¬4èª²ï¼šåŠ›èˆ‡é‹å‹• II (Force and Motion II) ---
            "2.4.1": { section: "Mech", topic: "ç‰©é«”çµ„æˆçš„ç³»çµ±", desc: "æ‡‰ç”¨ç‰›é “ç¬¬äºŒå®šå¾‹è™•ç†å¤šå€‹é€£æ¥é«”é–“çš„é‹å‹•å•é¡Œ [1]" },
            "2.4.2": { section: "Mech", topic: "åŠ›çš„åˆæˆå’Œåˆ†è§£", desc: "ä»¥åœ–è§£æ³•æˆ–ä»£æ•¸æ³•åˆæˆå…±é¢åŠ›ï¼›å°‡åŠ›åˆ†è§£ç‚ºå…©å€‹å‚ç›´åˆ†é‡ [1]" },
            "2.4.3": { section: "Mech", topic: "å…±é¢åŠ›å¹³è¡¡", desc: "æ‡‰ç”¨åŠ›çš„å¹³è¡¡æ¢ä»¶è§£æ±ºå—å¤šå€‹å…±é¢åŠ›ä½œç”¨çš„å•é¡Œ [1]" },
        
            // --- ç¬¬5èª²ï¼šåŠ› çŸ© (Moment) ---
            "2.5.1": { section: "Mech", topic: "åŠ›çš„è½‰å‹•æ•ˆæ‡‰", desc: "å®šç¾©åŠ›çŸ© (Moment)ï¼›è¨è«–è½‰çŸ©åŠåŠ›å¶ (Couple) åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­çš„æ‡‰ç”¨ [1]" },
            "2.5.2": { section: "Mech", topic: "å‰›é«”çš„å¹³è¡¡", desc: "æ‡‰ç”¨å—åŠ›å¹³è¡¡åŠåŠ›çŸ©å¹³è¡¡æ¢ä»¶è§£æ±ºå›ºå®šæ”¯é»å•é¡Œï¼›æ¸¬å®šé‡å¿ƒä½ç½® [1]" },
        
            // --- ç¬¬6èª²ï¼šåŠŸã€èƒ½é‡å’ŒåŠŸç‡ (Work, Energy and Power) ---
            "2.6.1": { section: "Mech", topic: "åŠŸ (Work)", desc: "å®šç¾©æ©Ÿæ¢°åŠŸ W = Fs cos Î¸ï¼›é—¡é‡‹åŠŸç‚ºèƒ½é‡è½‰ç§»çš„ä¸€ç¨®æ–¹å¼ [1]" },
            "2.6.2": { section: "Mech", topic: "æ©Ÿæ¢°èƒ½", desc: "æ¨å°ä¸¦æ‡‰ç”¨å‹•èƒ½ (1/2 mvÂ²) åŠé‡åŠ›å‹¢èƒ½ (mgh) å…¬å¼ [1]" },
            "2.6.3": { section: "Mech", topic: "èƒ½é‡è®ŠåŒ–å’Œå®ˆæ†", desc: "æè¿°å‹¢èƒ½èˆ‡å‹•èƒ½çš„ç›¸äº’è½‰æ›ï¼›è€ƒæ…®èƒ½é‡æè€— (å¦‚æ‘©æ“¦ç”¢ç†±) çš„æƒ…æ³ [1]" },
            "2.6.4": { section: "Mech", topic: "åŠŸç‡ (Power)", desc: "å®šç¾©åŠŸç‡ P=E/tï¼›æ‡‰ç”¨ P=Fv è§£æ±ºç›¸é—œæ©Ÿæ¢°åŠŸç‡å•é¡Œ [1]" },
        
            // --- ç¬¬7èª²ï¼šå‹• é‡ (Momentum) ---
            "2.7.1": { section: "Mech", topic: "å‹•é‡å®ˆæ†", desc: "å®šç¾©å‹•é‡ p=mvï¼›æ‡‰ç”¨å‹•é‡å®ˆæ†å®šå¾‹è§£æ±ºä¸€ç¶­ç¢°æ’åŠçˆ†ç‚¸å•é¡Œï¼›å€åˆ¥å½ˆæ€§/éå½ˆæ€§ç¢°æ’ [1]" },
            "2.7.2": { section: "Mech", topic: "å‹•é‡è®ŠåŒ–èˆ‡è¡é‡", desc: "é—¡é‡‹æ·¨åŠ›ç‚ºå‹•é‡è®ŠåŒ–ç‡ï¼›èªè­˜è¡é‡ (Impulse) ç‚ºå‹•é‡çš„æ”¹è®Š [1]" },
        
            // --- ç¬¬8èª²ï¼šæ‹‹é«”é‹å‹• (Projectile Motion - Ext) ---
            "2.8.1": { section: "Mech", topic: "èªè­˜æ‹‹é«”é‹å‹•", desc: "æè¿°æ‹‹é«”é‹å‹•è·¯å¾‘ï¼›ç†è§£æ°´å¹³åŠå‚ç›´é‹å‹•çš„å„è‡ªç¨ç«‹æ€§ [1]" },
            "2.8.2": { section: "Mech", topic: "åˆ†ææ‹‹é«”é‹å‹•", desc: "æ‡‰ç”¨ SUVAT åˆ†è§£ä¸¦è§£æ±ºå„ç¨®åˆé€Ÿã€æŠ•å°„è§’çš„æ‹‹é«”é‹å‹•å•é¡Œ [1]" },
        
            // --- ç¬¬9èª²ï¼šå‹»é€Ÿåœ“å‘¨é‹å‹• (Circular Motion - Ext) ---
            "2.9.1": { section: "Mech", topic: "æè¿°åœ“å‘¨é‹å‹•", desc: "å®šç¾©è§’é€Ÿåº¦ (Ï‰)ï¼›é€£ç¹«è§’é€Ÿåº¦èˆ‡ç·šé€Ÿåº¦ (v=rÏ‰) [1]" },
            "2.9.2": { section: "Mech", topic: "å‘å¿ƒåŠ›èˆ‡åŠ é€Ÿåº¦", desc: "èªè­˜å‘å¿ƒåŠ›æŒ‡å‘åœ“å¿ƒï¼›æ‡‰ç”¨ a = vÂ²/r æˆ– a = rÏ‰Â² å…¬å¼ [1]" },
            "2.9.3": { section: "Mech", topic: "åœ“å‘¨é‹å‹•æ‡‰ç”¨", desc: "åˆ†æå‚¾æ–œè·¯é¢ä¸Šçš„æ±½è»Šã€åœ“éŒæ“ºç­‰æ—¥å¸¸åœ“å‘¨é‹å‹•ä¾‹å­ [1]" },
        
            // --- ç¬¬10èª²ï¼šå¼• åŠ› (Gravitation - Ext) ---
            "2.10.1": { section: "Mech", topic: "è¬æœ‰å¼•åŠ›", desc: "æ‡‰ç”¨è¬æœ‰å¼•åŠ›å®šå¾‹ F = GMm/rÂ²ï¼›å®šç¾©åŠè¨ˆç®—å¼•åŠ›å ´å¼·åº¦ g = GM/rÂ² [2]" },
            "2.10.2": { section: "Mech", topic: "å¼•åŠ›ä¸‹çš„åœ“å‘¨é‹å‹•", desc: "åˆ†æè¡›æ˜Ÿæˆ–è¡Œæ˜Ÿè»Œé“é‹å‹•ï¼›è¨ˆç®—è»Œé“é€Ÿåº¦èˆ‡é€±æœŸ [2]" },
        // --- ç¬¬1èª²ï¼šå…‰çš„åå°„ (Reflection of Light) ---
            "3.1.1": { section: "Waves", topic: "å…‰ç·š", desc: "èªè­˜å…‰ç·šå’Œå…‰æŸçš„åŸºæœ¬æ€§è³ª [1]" },
            "3.1.2": { section: "Waves", topic: "åå°„èˆ‡å¹³é¢é¡", desc: "æ‡‰ç”¨åå°„å®šå¾‹ï¼›åˆ©ç”¨ä½œåœ–æ³•ç¹ªç•«å¹³é¢é¡çš„æˆåƒ [1]" },
        
            // --- ç¬¬2èª²ï¼šå…‰çš„æŠ˜å°„ (Refraction of Light) ---
            "3.2.1": { section: "Waves", topic: "æŠ˜å°„", desc: "æª¢æ¸¬æŠ˜å°„å®šå¾‹ï¼›å®šç¾©æŠ˜å°„ç‡ n = sin i / sin rï¼›åˆ©ç”¨æ³¢é€Ÿå®šç¾©æŠ˜å°„ç‡ [1]" },
            "3.2.2": { section: "Waves", topic: "å…¨å…§åå°„", desc: "æª¢æ¸¬å…¨å…§åå°„æ¢ä»¶ï¼ˆå¯†ä»‹è³ªé€²å…¥ç–ä»‹è³ªã€å…¥å°„è§’å¤§æ–¼è‡¨ç•Œè§’ï¼‰ï¼›è§£æ±ºç›¸é—œæ‡‰ç”¨å•é¡Œ [1]" },
        
            // --- ç¬¬3èª²ï¼šé€é¡ (Lenses) ---
            "3.3.1": { section: "Waves", topic: "é€é¡ç¨®é¡", desc: "å€åˆ¥å‡¸é€é¡ï¼ˆæœƒèšï¼‰èˆ‡å‡¹é€é¡ï¼ˆç™¼æ•£ï¼‰ [1]" },
            "3.3.2": { section: "Waves", topic: "å‡¸é€é¡æˆåƒ", desc: "å€åˆ¥å¯¦åƒèˆ‡è™›åƒï¼›ä»¥ä½œåœ–æ³•ï¼ˆä¸‰æ¢ç‰¹å¾µå…‰ç·šï¼‰ç¹ªç•«å‡¸é€é¡æˆåƒ [1]" },
            "3.3.3": { section: "Waves", topic: "å‡¹é€é¡æˆåƒ", desc: "ä»¥ä½œåœ–æ³•ç¹ªç•«å‡¹é€é¡æˆåƒï¼ˆå§‹çµ‚ç‚ºæ­£ç«‹ç¸®å°è™›åƒï¼‰ [1]" },
            "3.3.4": { section: "Waves", topic: "ç‰©ã€åƒèˆ‡é€é¡é—œä¿‚", desc: "æ‡‰ç”¨é€é¡å…¬å¼ 1/u + 1/v = 1/f è§£æ±ºå–®ä¸€è–„é¡æˆåƒå•é¡Œ [1]" },
        
            // --- ç¬¬4èª²ï¼šæ³¢çš„æœ¬è³ª (Nature of Waves) ---
            "3.4.1": { section: "Waves", topic: "æ³¢çš„ç°¡ä»‹", desc: "ä»¥æŒ¯ç›ªé—¡é‡‹æ³¢å‹•ï¼›èªè­˜æ³¢å‹•å‚³æ’­èƒ½é‡ä¸å¸¶ç‰©è³ªï¼›å€åˆ¥æ©«æ³¢èˆ‡ç¸±æ³¢ [1]" },
            "3.4.2": { section: "Waves", topic: "æ©«æ³¢çš„æ³¢å‹•", desc: "ä½¿ç”¨è¡“èªæè¿°æ³¢å‹•ï¼ˆæ³¢å³¯ã€æ³¢è°·ç­‰ï¼‰ï¼›æ‡‰ç”¨ f = 1/T åŠ v = fÎ»ï¼›æ¸¬å®šå½±éŸ¿çµƒç·šæ³¢é€Ÿçš„å› ç´  [1]" },
            "3.4.3": { section: "Waves", topic: "ç›¸ä½", desc: "ä½¿ç”¨ç›¸ä½æè¿°æ³¢å‹•ä¸­ä¸åŒç²’å­çš„æŒ¯å‹•é—œä¿‚ [1]" },
            "3.4.4": { section: "Waves", topic: "æ³¢å‹•ç·šåœ–åˆ†æ", desc: "è©®é‡‹åŠå€åˆ¥ä½ç§»â€”è·é›¢é—œä¿‚ç·šåœ–èˆ‡ä½ç§»â€”æ™‚é–“é—œä¿‚ç·šåœ– [1]" },
        
            // --- ç¬¬5èª²ï¼šæ³¢çš„ç¾è±¡å’Œé§æ³¢ (Wave Phenomena and Stationary Waves) ---
            "3.5.1": { section: "Waves", topic: "æ°´æ³¢", desc: "ä½¿ç”¨æ°´æ³¢æ§½å¯¦é©—èªè­˜æ³¢é™£é¢ã€æ³¢é€Ÿç­‰æ°´æ³¢ç‰¹å¾µ [1]" },
            "3.5.2": { section: "Waves", topic: "åå°„èˆ‡æŠ˜å°„(æ³¢)", desc: "ç¹ªç•«æ³¢é™£é¢åœ–å±•ç¾åå°„èˆ‡æŠ˜å°„ï¼›èªè­˜æ·±æ·ºæ°´åŸŸäº¤ç•Œè™•æ³¢é€Ÿèˆ‡æ³¢é•·çš„æ”¹è®Š [1]" },
            "3.5.3": { section: "Waves", topic: "è¡å°„èˆ‡å¹²æ¶‰", desc: "æè¿°è¡å°„ç¾è±¡ï¼›ç†è§£ç›¸å¹²æºï¼›ä»¥ç¨‹å·®åˆ¤å®šç›¸é•·å¹²æ¶‰ï¼ˆÎ”L=nÎ»ï¼‰èˆ‡ç›¸æ¶ˆå¹²æ¶‰æ¢ä»¶ [1]" },
            "3.5.4": { section: "Waves", topic: "é§æ³¢", desc: "è§£é‡‹é§æ³¢çš„å½¢æˆï¼ˆå…©åˆ—ç›¸åæ–¹å‘è¡Œæ³¢ç–ŠåŠ ï¼‰ï¼›æè¿°æ³¢è…¹èˆ‡æ³¢ç¯€ç‰¹æ€§ [1]" },
        
            // --- ç¬¬6èª²ï¼šå…‰çš„æ³¢å‹•æœ¬è³ªèˆ‡é›»ç£æ³¢ (Wave Nature of Light and EM Waves) ---
            "3.6.1": { section: "Waves", topic: "å…‰çš„æ³¢å‹•è­‰æ“š", desc: "æŒ‡å‡ºå…‰ç‚ºæ©«æ³¢ï¼›èªè­˜è¡å°„å’Œå¹²æ¶‰ç‚ºå…‰å…·å‚™æ³¢å‹•æœ¬è³ªçš„è­‰æ“š [2]" },
            "3.6.2": { section: "Waves", topic: "æ¥Šæ°é›™ç¸«å¯¦é©—", desc: "æª¢æ¸¬å¹²æ¶‰åœ–å½¢ï¼›æ‡‰ç”¨ Î”y = Î»D/a è§£æ±ºæ¢ç´‹é–“è·å•é¡Œ [2]" },
            "3.6.3": { section: "Waves", topic: "å¹³é¢é€å°„å…‰æŸµ", desc: "æª¢æ¸¬å…‰æŸµè¡å°„åœ–æ¡ˆï¼›æ‡‰ç”¨ d sin Î¸ = nÎ» è§£æ±ºå¤šç´šäº®é»å•é¡Œ [2]" },
            "3.6.4": { section: "Waves", topic: "é›»ç£æ³¢è­œ", desc: "èªè­˜é›»ç£æ³¢è­œæˆåˆ†ï¼ˆç„¡ç·šé›»è‡³ä¼½ç‘ªå°„ç·šï¼‰åŠçœŸç©ºæ³¢é€Ÿ 3.0 x 10^8 m/s [2]" },
        
            // --- ç¬¬7èª²ï¼šè²éŸ³ (Sound) ---
            "3.7.1": { section: "Waves", topic: "ç¸±æ³¢èˆ‡è²éŸ³", desc: "ä½¿ç”¨å¯†éƒ¨å’Œç–éƒ¨æè¿°è²æ³¢ï¼›æ‡‰ç”¨æ³¢å‹•å…¬å¼è§£æ±ºè²éŸ³å•é¡Œ [2]" },
            "3.7.2": { section: "Waves", topic: "è²éŸ³çš„æœ¬è³ª", desc: "èªè­˜è²éŸ³ç‚ºç¸±æ³¢ä¸”éœ€ä»‹è³ªå‚³æ’­ï¼›æè¿°è²éŸ³çš„åå°„ã€æŠ˜å°„ã€è¡å°„å’Œå¹²æ¶‰ [2]" },
            "3.7.3": { section: "Waves", topic: "è²éŸ³çš„å…¶ä»–ç‰¹æ€§", desc: "æ¸¬å®šè½é »ç¯„åœï¼ˆ20-20kHzï¼‰ï¼›éŸ³èª¿ï¼ˆé »ç‡ï¼‰ã€éŸ¿åº¦ï¼ˆæŒ¯å¹…ï¼‰èˆ‡éŸ³å“ï¼›è²å¼·ç´šï¼ˆåˆ†è² dBï¼‰èˆ‡å™ªéŸ³å½±éŸ¿ [2]" },
                        // --- ç¬¬1èª²ï¼šéœé›»å­¸ (Electrostatics) ---
            "4.1.1": { section: "Elec", topic: "é›»è·", desc: "æª¢æ¸¬å…©ç¨®é›»è·åŠå¸åŠ›/æ–¥åŠ›ï¼›ä»¥é›»å­è½‰ç§»é—¡é‡‹èµ·é›»éç¨‹ [383, 4.1.1]" },
            "4.1.2": { section: "Elec", topic: "éœé›»åŠ›", desc: "æ‡‰ç”¨åº«å€«å®šå¾‹è§£æ±ºé»é›»è·é–“çš„å—åŠ›å•é¡Œ [383, 4.1.2]" },
            "4.1.3": { section: "Elec", topic: "é›»å ´", desc: "å®šç¾©é›»å ´å¼·åº¦ Eï¼›æè¿°é»é›»è·èˆ‡å¹³è¡Œæ¿é–“çš„é›»å ´ï¼›ä»¥å ´åŠ›ç·šè¡¨é”é›»å ´ [383, 4.1.3]" },
        
            // --- ç¬¬2èª²ï¼šé›»æµã€é›»å£“èˆ‡é›»é˜» (Current, Voltage and Resistance) ---
            "4.2.1": { section: "Elec", topic: "é›»æµ", desc: "å®šç¾©é›»æµç‚ºé›»è·æµå‹•ç‡ I=Q/tï¼›èªè­˜é›»æµæ–¹å‘å”å®š [383, 4.2.1]" },
            "4.2.2": { section: "Elec", topic: "é›»å£“", desc: "å®šç¾©é›»å‹•å‹¢ (e.m.f.) èˆ‡é›»å‹¢å·® (p.d.)ï¼›æè¿°é›»è·¯ä¸­çš„èƒ½é‡è®Šæ› [383, 4.2.2]" },
            "4.2.3": { section: "Elec", topic: "é›»é˜»", desc: "å®šç¾©é›»é˜» R=V/Iï¼›é‡åº¦ç‡ˆæ³¡åŠäºŒæ¥µç®¡çš„ V-I ç‰¹æ€§ï¼›å®šç¾©é›»é˜»ç‡ï¼›æè¿°æ¸©åº¦å°é›»é˜»çš„å½±éŸ¿ [383, 4.2.3]" },
            "4.2.4": { section: "Elec", topic: "é›»é˜»å™¨ç¶²çµ¡", desc: "æ¨å°ä¸¦æ‡‰ç”¨ä¸²è¯èˆ‡ä¸¦è¯é›»è·¯çš„åˆæˆé›»é˜»è¦å¾‹ï¼›æ¯”è¼ƒç¶²çµ¡ä¸­å„å…ƒä»¶çš„é›»å£“åŠé›»æµ [383, 4.2.4]" },
            "4.2.5": { section: "Elec", topic: "é›»åŠŸç‡", desc: "æ‡‰ç”¨ P=VI è§£æ±ºé›»è·¯å•é¡Œï¼›æª¢æ¸¬é›»æµé€šéå°é«”æ™‚çš„ç†±æ•ˆæ‡‰ [383, 4.2.5]" },
        
            // --- ç¬¬3èª²ï¼šå¯¦éš›é›»è·¯ (Practical Circuits) ---
            "4.3.1": { section: "Elec", topic: "åˆ†æé›»è·¯", desc: "æ‡‰ç”¨åˆ†å£“å™¨ (Potential Divider) æ¦‚å¿µè§£æ±ºç°¡å–®é›»è·¯å•é¡Œ [383, 4.3.1]" },
            "4.3.2": { section: "Elec", topic: "å¯¦éš›å„€è¡¨èˆ‡é›»æ± ", desc: "èªè­˜å®‰åŸ¹è¨ˆåŠä¼ç‰¹è¨ˆçš„è² è¼‰æ•ˆæ‡‰ï¼›é€£ç¹«é›»æºé›»å‹•å‹¢ã€ç«¯é›»å£“èˆ‡å…§é›»é˜» [383, 4.3.2]" },
        
            // --- ç¬¬4èª²ï¼šå®¶å±…é›»å­¸ (Domestic Electricity) ---
            "4.4.1": { section: "Elec", topic: "èƒ½é‡æ¶ˆè€—", desc: "ä»¥åƒç“¦ç‰¹å°æ™‚ (kWh) è¨ˆç®—é›»èƒ½æ¶ˆè€—åŠå…¶è²»ç”¨ [383, 4.4.1]" },
            "4.4.2": { section: "Elec", topic: "å®‰å…¨æªæ–½", desc: "ç†è§£å®¤å…§ä½ˆç·šã€ä¿éšªçµ²ã€æ¥åœ°èˆ‡ä¸‰è…³æ’é ­çš„ä½œç”¨åŠé¸æ“‡åŸå‰‡ [383, 4.4.2]" },
            "4.4.3": { section: "Elec", topic: "äº¤æµé›» (Ext)", desc: "å®šç¾©äº¤æµé›»æ–¹å‡æ ¹å€¼ (r.m.s.)ï¼›é€£ç¹«æ–¹å‡æ ¹å€¼èˆ‡å³¯å€¼ (Peak Value) [383, 4.4.3]" },
        
            // --- ç¬¬5èª²ï¼šç£ å ´ (Magnetic Field) ---
            "4.5.1": { section: "Elec", topic: "ç£åŠ›å’Œç£å ´", desc: "æª¢æ¸¬ç£éµç£å ´åœ–æ¨£ï¼›ä»¥å ´åŠ›ç·šè¡¨é”ç£å ´ [383, 4.5.1]" },
            "4.5.2": { section: "Elec", topic: "é›»æµç£æ•ˆæ‡‰", desc: "æª¢æ¸¬é•·ç›´å°ç·šåŠèºç·šç®¡ç£å ´åœ–æ¨£ï¼›æ‡‰ç”¨ B=Î¼â‚€I/2Ï€r åŠ B=Î¼â‚€NI/l å…¬å¼è§£æ±ºå•é¡Œ [383, 4.5.2]" },
        
            // --- ç¬¬6èª²ï¼šç£å ´ç”¢ç”Ÿçš„åŠ› (Magnetic Force) ---
            "4.6.1": { section: "Elec", topic: "ä½œç”¨æ–¼è¼‰æµå°é«”çš„ç£åŠ›", desc: "æ¸¬å®šç£åŠ›æ–¹å‘ï¼›æ‡‰ç”¨ F = BIl sin Î¸ å…¬å¼è¨ˆç®—å—åŠ› [383, 4.6.1]" },
            "4.6.2": { section: "Elec", topic: "ç›´æµé›»å‹•æ©Ÿ", desc: "æè¿°ç›´æµé›»å‹•æ©Ÿçµæ§‹åŠæ›å‘å™¨ (Commutator) çš„é‹ä½œåŸç† [383, 4.6.2]" },
            "4.6.3": { section: "Elec", topic: "æ´›å€«èŒ²åŠ› (Ext)", desc: "è™•ç†è¼‰æµå¹³è¡Œå°ç·šé–“çš„ä½œç”¨åŠ›ï¼›æ‡‰ç”¨ F=Bqv sin Î¸ è§£æ±ºé›»è·åœ¨ç£å ´ä¸­é‹å‹•å•é¡Œ [383, 4.6.3]" },
        
            // --- ç¬¬7èª²ï¼šé›»ç£æ„Ÿæ‡‰ (Electromagnetic Induction) ---
            "4.7.1": { section: "Elec", topic: "æ„Ÿç”Ÿé›»å‹•å‹¢", desc: "æª¢æ¸¬æ„Ÿç”Ÿé›»æµï¼›æ‡‰ç”¨æ¥æ¬¡å®šå¾‹ (Lenz's Law) åˆ¤å®šæ„Ÿç”Ÿé›»æµæ–¹å‘ [383, 4.7.1]" },
            "4.7.2": { section: "Elec", topic: "é›»ç£æ„Ÿæ‡‰æ‡‰ç”¨", desc: "æè¿°ç™¼é›»æ©Ÿé‹ä½œï¼›è¨è«–æ¸¦é›»æµ (Eddy Current) çš„ç”¢ç”ŸåŠå…¶æ‡‰ç”¨ [383, 4.7.2]" },
            "4.7.3": { section: "Elec", topic: "æ³•æ‹‰ç¬¬å®šå¾‹ (Ext)", desc: "å®šç¾©ç£é€šé‡ Î¦=BA cos Î¸ï¼›æ‡‰ç”¨æ³•æ‹‰ç¬¬å®šå¾‹ Îµ = -N(Î”Î¦/Î”t) è¨ˆç®—æ„Ÿç”Ÿé›»å‹•å‹¢ [383, 4.7.3]" },
        
            // --- ç¬¬8èª²ï¼šè®Šå£“å™¨åŠè¼¸é›» (Transformers and Power Transmission - Ext) ---
            "4.8.1": { section: "Elec", topic: "è®Šå£“å™¨", desc: "æè¿°è®Šå£“å™¨çµæ§‹ï¼›æ‡‰ç”¨ Vp/Vs = Np/Ns å…¬å¼ï¼›è¨è«–æé«˜æ•ˆç‡çš„æ–¹æ³• [383, 4.8.1]" },
            "4.8.2": { section: "Elec", topic: "è¼¸ é›»", desc: "è¨è«–ä»¥é«˜å£“äº¤æµé›»å‚³è¼¸é›»èƒ½çš„å¥½è™•ï¼›æè¿°ç¶²é›»ç³»çµ±çš„å‡å£“åŠé™å£“éç¨‹ [383, 4.8.2]" },
                        // --- ç¬¬1èª²ï¼šè¼»å°„èˆ‡æ”¾å°„ç¾è±¡ (Radiation and Radioactivity) ---
            "5.1.1": { section: "Rad", topic: "è‡´é›»é›¢è¼»å°„èˆ‡Xå°„ç·š", desc: "èªè­˜Xå°„ç·šæ€§è³ªåŠç”¢ç”ŸåŸç†ï¼ˆé«˜é€Ÿé›»å­æ’æ“Šé‡é‡‘å±¬é¶ï¼‰ï¼›è¨è«–Xå°„ç·šç”¨é€” [383, 5.1.1]" },
            "5.1.2": { section: "Rad", topic: "æ ¸è¼»å°„", desc: "æ¯”è¼ƒ Î±ã€Î² å’Œ Î³ è¼»å°„çš„æœ¬è³ªã€ç©¿é€åŠ›ã€è‡´é›»é›¢èƒ½åŠ›åŠåœ¨é›»ç£å ´ä¸­çš„åè½‰ï¼›ä½¿ç”¨è“‹é©-å½Œå‹’è¨ˆæ•¸å™¨æ¢æ¸¬è¼»å°„ [383, 5.1.2]" },
            "5.1.3": { section: "Rad", topic: "è¼»å°„å®‰å…¨", desc: "å®šç¾©æœ‰æ•ˆåŠ‘é‡å–®ä½å¸Œæ²ƒç‰¹ (Sv)ï¼›è¨è«–è‡´é›»é›¢è¼»å°„çš„å¥åº·é¢¨éšªåŠæ¸›å°‘å¸æ”¶åŠ‘é‡çš„å®‰å…¨æªæ–½ [383, 5.1.3]" },
        
            // --- ç¬¬2èª²ï¼šåŸå­çµæ§‹èˆ‡æ”¾å°„è¡°è®Š (Atomic Structure and Radioactive Decay) ---
            "5.2.1": { section: "Rad", topic: "åŸå­æ¨¡å‹", desc: "æè¿°åŸå­çµæ§‹ï¼›å®šç¾©åŸå­åºã€è³ªé‡æ•¸åŠåŒä½ç´ ï¼›ä»¥ç¬¦è™Ÿè¡¨ç¤ºæ ¸ç´  [383, 5.2.1]" },
            "5.2.2": { section: "Rad", topic: "æ”¾å°„è¡°è®Š", desc: "å¯«å‡º Î±ã€Î²ã€Î³ è¡°è®Šæ–¹ç¨‹ï¼›æ‡‰ç”¨ N = Nâ‚€eâ»áµáµ— è§£æ±ºè¡°è®Šå•é¡Œï¼›å®šç¾©åŠè¡°æœŸä¸¦é€£ç¹«è¡°è®Šå¸¸æ•¸ [383, 5.2.2]" },
            "5.2.3": { section: "Rad", topic: "æ”¾å°„æ€§åŒä½ç´ çš„æ‡‰ç”¨", desc: "è¨è«–åŒä½ç´ ä½œç‚ºç¤ºè¹¤ç‰© (Tracer) åŠåœ¨ç¢³-14å®šå¹´æ³•ç­‰é ˜åŸŸçš„å¯¦éš›æ‡‰ç”¨ [383, 5.2.3]" },
        
            // --- ç¬¬3èª²ï¼šæ ¸ èƒ½ (Nuclear Energy) ---
            "5.3.1": { section: "Rad", topic: "æ ¸è£‚è®Šèˆ‡æ ¸èšè®Š", desc: "èªè­˜è£‚è®Šä¸­çš„é€£é–åæ‡‰åŠèšè®Šï¼ˆå¤ªé™½èƒ½é‡ä¾†æºï¼‰ï¼›äº†è§£æ ¸åæ‡‰ä¸­çš„èƒ½é‡é‡‹æ”¾åŸç† [383, 5.3.1]" },
            "5.3.2": { section: "Rad", topic: "è³ªèƒ½é—œä¿‚", desc: "æ‡‰ç”¨ Î”E = Î”mcÂ² è¨ˆç®—æ ¸åæ‡‰èƒ½é‡ï¼›ä½¿ç”¨åŸå­è³ªé‡å–®ä½ (u) é€²è¡Œèƒ½é‡è¨ˆç®— [383, 5.3.2]" },
            "5.3.3": { section: "Rad", topic: "æ ¸èƒ½ç™¼é›»", desc: "èªè­˜å—æ§æ ¸è£‚è®Šåæ‡‰å †é‹ä½œï¼›è¨è«–æ ¸èƒ½ä½œç‚ºèƒ½æºçš„å„ªé»å’Œç¼ºé» [383, 5.3.3]" },
            
            // ==========================================
            // Elective Section Syllabus Details
            // ==========================================
            
            // --- Elective E3: Energy and Use of Energy (èƒ½é‡å’Œèƒ½æºçš„ä½¿ç”¨) ---
            "E3.1.1": { section: "E3", topic: "å®¶ç”¨è€—èƒ½é›»å™¨", desc: "é›»èƒ½ä½œç‚ºä¸»è¦èƒ½æºï¼›å®¶ç”¨é›»å™¨èƒ½é‡è½‰æ›ï¼›å®šç¾©æœ€çµ‚èƒ½æºæ•ˆç›Šï¼›é¦™æ¸¯èƒ½æºæ•ˆç›Šæ¨™ç±¤è¨ˆåŠƒ (EELS) çš„ä½¿ç”¨åŠè¨ˆç®— [1]" },
            "E3.1.2": { section: "E3", topic: "ç„¡ç«çƒ¹èª¿", desc: "é›»ç†±å¹³æ¿çˆã€é›»ç£çˆå’Œå¾®æ³¢çˆé‹ä½œåŸç†ï¼›ç‚Šå…·æœ€çµ‚èƒ½æºæ•ˆç›Šæ¯”è¼ƒï¼›å„ªç¼ºé»è¨è«–åŠé‹ä½œæˆæœ¬æ¸¬å®š [1]" },
            "E3.1.3": { section: "E3", topic: "æŠ½ç†±", desc: "ç©ºèª¿æ©Ÿèˆ‡ç†±æ³µåŸç†ï¼›å®šç¾©è£½å†·èƒ½åŠ› (kW)ï¼›å®šç¾©æ€§èƒ½ä¿‚æ•¸ COPï¼›ä¸­å¤®ç©ºèª¿ç³»çµ±æ’æ”¾ç†±é‡çš„ç”¨é€” [1]" },
            "E3.2.1": { section: "E3", topic: "é›»ç‡ˆ", desc: "æè¿°ç™½ç†¾ç‡ˆã€æ°£é«”æ”¾é›»ç‡ˆå’Œ LED é‹ä½œåŸç†ï¼›ä»¥åŸå­èƒ½é‡æ”¹è®Šé—¡é‡‹å…‰çš„æ”¾å°„ï¼›è¨è«–æˆæœ¬æ•ˆç›Š [1]" },
            "E3.2.2": { section: "E3", topic: "é‡åº¦äº®åº¦", desc: "å®šç¾©å…‰é€šé‡ (lm) èˆ‡ç…§æ˜åº¦ (lux)ï¼›æ‡‰ç”¨å¹³æ–¹åæ¯”å®šå¾‹å’Œæœ—ä¼¯é¤˜å¼¦å®šå¾‹ï¼›å®šç¾©é›»ç‡ˆæ•ˆèƒ½ (lm/W) [1]" },
            "E3.3.1": { section: "E3", topic: "æ¨“å®‡çš„èƒ½æºæ•ˆç›Š", desc: "ç†±å‚³éç‡æ–¹ç¨‹æ‡‰ç”¨ï¼›å®šç¾©å»ºç¯‰ææ–™ U å€¼ï¼›å®šç¾©åŠè¨è«–å½±éŸ¿ OTTV çš„å› ç´ ï¼›å¤ªé™½éš”ç†±è†œçš„ç”¨é€” [1]" },
            "E3.3.2": { section: "E3", topic: "äº¤é€šå·¥å…·çš„èƒ½æºæ•ˆç›Š", desc: "é›»å‹•è»Šèˆ‡æ··åˆå‹•åŠ›è»Šå‹•åŠ›ç³»çµ±ä¸»è¦éƒ¨ä»¶ï¼›æ¯”è¼ƒé›»å‹•è»Šèˆ‡åŒ–çŸ³ç‡ƒæ–™è»Šçš„æœ€çµ‚èƒ½æºæ•ˆç›Š [1]" },
            "E3.4.1": { section: "E3", topic: "èƒ½æºèˆ‡çµåˆèƒ½", desc: "ä¸å¯å†ç”Ÿèƒ½æºèˆ‡å¯å†ç”Ÿèƒ½æºç‰¹å¾µï¼›å®šç¾©çµåˆèƒ½ (eV)ï¼›æ ¸è£‚è®Šåæ‡‰å †åŸç†ï¼›é¢¨åŠ›ç™¼é›»åŠŸç‡æ–¹ç¨‹ P=1/2Î·ÏAvÂ³ï¼›å¤ªé™½å¸¸æ•¸èˆ‡å¤ªé™½èƒ½é›»æ±  [2]" },
            "E3.4.2": { section: "E3", topic: "ç’°å¢ƒè¡æ“Š", desc: "èƒ½æºæå–èˆ‡ä½¿ç”¨çš„ç¤¾æœƒè¡æ“Šï¼›æ¸©å®¤æ°£é«”å°å…¨çƒæš–åŒ–çš„å½±éŸ¿ï¼›åˆ†æé¦™æ¸¯ä¸åŒç‡ƒæ–™æ¶ˆè€—é‡ [2]" },
            
            // --- Elective E4: Medical Physics (é†«å­¸ç‰©ç†å­¸) ---
            "E4.1.1": { section: "E4", topic: "äººé¡è¦–è¦º", desc: "çœ¼ç›çš„è¦–è¦ºèª¿ç¯€éç¨‹ï¼›è¦–æ¡¿åŠè¦–éŒç´°èƒçš„åŠŸèƒ½ï¼›å…‰æ„Ÿç´°èƒå°å…‰è­œçš„åæ‡‰åŠå¸æ”¶æ›²ç·š [2]" },
            "E4.1.2": { section: "E4", topic: "è¦–è¦ºç¼ºé™·", desc: "å®šç¾©é€é¡ç„¦å¼· (Dioptre)ï¼›çœ¼ç›è¿‘é»èˆ‡é é»ï¼›è¿‘è¦–ã€é è¦–ã€æ•£å…‰åŠå…¶ç³¾æ­£æ–¹æ³• [2]" },
            "E4.1.3": { section: "E4", topic: "å…‰çº–å…§çªºé¡", desc: "å…§çªºé¡é‹ä½œåŸç†èˆ‡å…‰çº–ç‰¹æ€§ï¼›ç›¸å¹²èˆ‡éç›¸å¹²å…‰çº–ç®¡æŸé€ åƒï¼›å…§çªºé¡è¨ºæ–·çš„å„ªé»èˆ‡é™åˆ¶ [2]" },
            "E4.2.1": { section: "E4", topic: "äººé¡è½è¦º", desc: "ä¸­è€³å£“å¼·å¢ç›ŠåŠŸèƒ½ï¼›å…§è€³å°è²éŸ³åæ‡‰ï¼›ç›¸å°è²å¼·ç´šå°æ•¸æ¨™åº¦ (L = 10 log I/Iâ‚€)ï¼›ç­‰éŸ¿æ›²ç·šèˆ‡å™ªéŸ³å½±éŸ¿ [2]" },
            "E4.2.2": { section: "E4", topic: "è¶…è²æ³¢é†«å­¸å½±åƒ", desc: "å£“é›»æ›èƒ½å™¨é‹ä½œåŸç†ï¼›å®šç¾©è²é˜»æŠ— (Z)ï¼›æ¯”è¼ƒäººé«”çµ„ç¹”è²é˜»æŠ—ï¼›æ‡‰ç”¨åå°„è²å¼·ä¿‚æ•¸è§£æ±ºå•é¡Œ [2]" },
            "E4.2.3": { section: "E4", topic: "è¶…è²æ³¢æƒæ", desc: "A-æƒæèˆ‡ B-æƒæé‹ä½œåŠåœ–åƒé—¡é‡‹ï¼›è¶…è²æ³¢è¡°æ¸›èˆ‡é »ç‡é—œä¿‚ï¼›è¨ºæ–·çš„å„ªé»å’Œé™åˆ¶ [2]" },
            "E4.3.1": { section: "E4", topic: "Xå°„ç·šæˆåƒ", desc: "æ‡‰ç”¨ I = Iâ‚€eâ»áµË£ æ¸¬å®šå¼·åº¦ï¼›ç·šè¡°æ¸›ä¿‚æ•¸èˆ‡åŠå€¼åšåº¦ï¼›äººå·¥é¡¯å½±åŠ‘ï¼ˆå¦‚é‹‡é¤ï¼‰çš„ç”¨é€”åŠé¢¨éšª [2]" },
            "E4.3.2": { section: "E4", topic: "CT æƒæ", desc: "é›»è…¦æ–·å±¤é€ å½±æƒæå„€é‹ä½œåŸç†ï¼›åœ–åƒé‡å»ºéç¨‹ï¼›æ¯”è¼ƒ CT èˆ‡å¸¸è¦ X å°„ç·šåœ–åƒ [2]" },
            "E4.3.3": { section: "E4", topic: "æ”¾å°„æ€§æ ¸ç´ é€ å½±", desc: "æ”¾å°„æ€§åŒä½ç´ ä½œç‚ºç¤ºè¹¤ç‰© (Tracer)ï¼›ä¼½ç‘ªæ”å½±å„€åŸç†ï¼›å®šç¾©ç”Ÿç‰©åŠè¡°æœŸï¼›é‘‘å®šé€-99mç‰¹æ€§ [2]" },
            "E4.3.4": { section: "E4", topic: "è¼»å°„é¢¨éšª", desc: "è‡´é›»é›¢è¼»å°„æˆåƒçš„å¥åº·é¢¨éšªèˆ‡å®‰å…¨æªæ–½ï¼›æ¯”è¼ƒé†«å­¸è¨ºæ–·ä¸­ä¸åŒè¼»å°„çš„æœ‰æ•ˆåŠ‘é‡ [2]" }
        };

        // ==========================================
        // 2. QUESTION MAP DATABASE
        // ==========================================
        const FULL_QUESTION_MAP = {
            "2014_1A": {
                // --- 1-2: Heat and Gases ---
                1: { tid: "1.2.2", detail: "çœŸç©ºç“¶æ¸›å°‘ç†±å¢ç›Šï¼ˆè¼»å°„/å‚³å°ï¼‰åŸç†åˆ†æ [2]" },
                2: { tid: "1.4.1", detail: "åˆ©ç”¨æ¸©åº¦-æ™‚é–“åœ–è¨ˆç®—ç†”è§£æ¯”æ½›ç†± [2]" },
            
                // --- 3-12: Force and Motion ---
                3: { tid: "2.5.2", detail: "å‰›é«”å¹³è¡¡ä¸‹çš„åŠ›çŸ©æ¯”ä¾‹è¨ˆç®— [2]" },
                4: { tid: "2.4.3", detail: "æ‡¸æ›ç³»çµ±çš„å…±é¢åŠ›å¹³è¡¡åˆ†æ [3]" },
                5: { tid: "2.2.3", detail: "æ‡‰ç”¨ SUVAT å…¬å¼è¨ˆç®—å‹»åŠ é€Ÿåº¦ [3]" },
                6: { tid: "2.2.3", detail: "æ¯”è¼ƒä¸åŒæ–œé¢ä¸Šæ»‘ä¸‹çš„é€Ÿåº¦èˆ‡æ™‚é–“ [3]" },
                7: { tid: "2.7.1", detail: "ä¸€ç¶­ç¢°æ’ä¸­çš„å‹•é‡å®ˆæ†èˆ‡é€Ÿåº¦åˆ¤æ–· [3]" },
                8: { tid: "2.4.1", detail: "åˆ†ææ»‘è¼ªé€£æ¥é«”ç³»çµ±çš„åŠ é€Ÿåº¦ [4]" },
                9: { tid: "2.2.4", detail: "å‚ç›´ä¸‹æ‹‹é‹å‹•çš„ä½ç§»ä¼°è¨ˆ [4]" },
                10: { tid: "2.8.2", detail: "è¨ˆç®—æ°´å¹³æ‹‹é«”é‹å‹•çš„åˆé€Ÿåº¦ [4]" },
                11: { tid: "2.10.2", detail: "è§£é‡‹è»Œé“é‹å‹•ä¸­çš„å¤±é‡ç¾è±¡åŸå›  [5]" },
                12: { tid: "2.10.1", detail: "è¬æœ‰å¼•åŠ›å®šå¾‹èˆ‡å¼•åŠ›å ´å¼·åº¦è¨ˆç®— [5]" },
                // --- 13-19: Waves ---
                13: { tid: "3.5.2", detail: "æ°´æ³¢åœ¨å¹³ç›´éšœç¤™ç‰©ä¸Šçš„åå°„åœ–æ¨£åˆ†æ [5]" },
                14: { tid: "3.4.4", detail: "æ©«æ³¢å¿«ç…§ä¸­ç²’å­çš„é‹å‹•æ–¹å‘åˆ†æ [6]" },
                15: { tid: "3.2.1", detail: "å¹³è¡Œä»‹è³ªä¸­çš„æŠ˜å°„è·¯å¾‘èˆ‡æ³¢é€Ÿæ¯”è¼ƒ [6]" },
                16: { tid: "3.5.3", detail: "å½±éŸ¿æ³¢ç©¿éç‹¹ç¸«æ™‚è¡å°„ç¨‹åº¦çš„å› ç´  [7]" },
                17: { tid: "3.7.1", detail: "åˆ©ç”¨è¶…è²æ³¢åå°„ä¼°ç®—ç§»å‹•æ±½è»Šçš„é€Ÿåº¦ [7]" },
                18: { tid: "3.5.3", detail: "åç›¸è²æºçš„ç›¸é•·èˆ‡ç›¸æ¶ˆå¹²æ¶‰åˆ¤å®š [7]" },
                19: { tid: "3.7.2", detail: "è²æ³¢çš„æœ¬è³ªèˆ‡å‚³æ’­ç‰¹æ€§è¾¨æ [8]" },
            
                // --- 20-30: Electricity and Magnetism ---
                20: { tid: "4.1.1", detail: "éœé›»æ„Ÿæ‡‰èˆ‡æ¥è§¸èµ·é›»çš„é›»è·åˆ†ä½ˆ [8]" },
                21: { tid: "4.1.2", detail: "é»é›»è·ç³»çµ±çš„åˆéœé›»åŠ›åˆ†æ [8]" },
                22: { tid: "4.1.3", detail: "é›»å ´å¼·åº¦èˆ‡å ´åŠ›ç·šåˆ†ä½ˆæ¦‚å¿µ" },
                23: { tid: "4.1.3", detail: "é»é›»è·å‘¨åœçš„é›»å‹¢èˆ‡é›»å ´é—œä¿‚" },
                24: { tid: "4.3.2", detail: "å¯¦éš›å„€è¡¨åœ¨é›»è·¯ä¸­çš„è² è¼‰æ•ˆæ‡‰" },
                25: { tid: "4.3.1", detail: "åˆ†å£“å™¨é›»è·¯ä¸­çš„é›»å£“åˆ†é…è¨ˆç®—" },
                26: { tid: "4.5.2", detail: "å³æ‰‹èºæ—‹å®šå‰‡åˆ¤å®šç£å ´åœ–æ¨£" },
                27: { tid: "4.7.3", detail: "æ³•æ‹‰ç¬¬å®šå¾‹æ‡‰ç”¨ï¼šæ„Ÿç”Ÿé›»æµæ–¹å‘åˆ¤å®š [9]" },
                28: { tid: "4.5.2", detail: "å½±éŸ¿é•·èºç·šç®¡å…§ç£é€šé‡å¯†åº¦çš„å› ç´  [9]" },
                29: { tid: "4.6.3", detail: "æ‡‰ç”¨æ´›å€«èŒ²åŠ›è§£é‡‹éœçˆ¾æ•ˆæ‡‰é›»å‹¢å·® [10]" },
                30: { tid: "4.4.3", detail: "æ¯”è¼ƒç›´æµé›»èˆ‡äº¤æµé›»çš„åŠŸç‡åŠ r.m.s. å€¼ [10]" },
            
                // --- 31-33: Radioactivity ---
                31: { tid: "5.2.2", detail: "æ”¾å°„è¡°è®Šåºåˆ—ä¸­çš„è³ªå­èˆ‡ä¸­å­æ•¸è®ŠåŒ– [10]" },
                32: { tid: "5.1.2", detail: "æ¯”è¼ƒä¸åŒç‰©è³ªå°æ ¸è¼»å°„çš„ç©¿é€èƒ½åŠ› [11]" },
                33: { tid: "5.3.2", detail: "æ ¸åæ‡‰ä¸­çš„è³ªèƒ½é—œä¿‚èˆ‡é‡‹æ”¾èƒ½é‡è¨ˆç®— [11]" }
            },
            // æ‚¨çš„è¼¸å…¥ç¯„ä¾‹ (2014_1B)
            "2014_1B": [
                // --- ç¬¬1é¡Œï¼šç†±å®¹é‡å¯¦é©— (Heat) ---
                { id: "1a", max: 1, tid: "1.3.1", detail: "æ ¹æ“šæ¸©åº¦-æ™‚é–“åœ–è¡¨æ‰¾å‡ºåŠ ç†±å™¨çš„é–‹å•Ÿæ™‚é–“ [1, 2]" }, 
                { id: "1b", max: 1, tid: "1.2.2", detail: "è§£é‡‹åŠ ç†±å™¨é—œé–‰å¾Œæ¸©åº¦ç¹¼çºŒä¸Šå‡çš„åŸå› ï¼ˆç†±å‚³éå»¶é²ï¼‰[1, 2]" },
                { id: "1ci", max: 2, tid: "1.3.2", detail: "åˆ©ç”¨æœ€é«˜æ¸©åº¦å‡å¹…è¨ˆç®—é‡‘å±¬å¡Šçš„æ¯”ç†±å®¹é‡ (E=mcÎ”T) [2]" },
                { id: "1cii", max: 2, tid: "1.3.2", detail: "åˆ†æå¯¦é©—ç³»çµ±èª¤å·®ï¼ˆç†±é‡æ•£å¤±ï¼‰å°è¨ˆç®—çµæœçš„å½±éŸ¿ [3]" },
                { id: "1d", max: 1, tid: "1.2.2", detail: "è§£é‡‹ç‚ºä½•è©²æ–¹æ³•ä¸é©ç”¨æ–¼å°ç†±æ€§å·®çš„ç»ç’ƒå¡Š [3]" },
            
                // --- ç¬¬2é¡Œï¼šæ°£é«”å®šå¾‹ (Gases) ---
                { id: "2ai", max: 3, tid: "1.5.1", detail: "æ‡‰ç”¨æ³¢ç¾©è€³å®šå¾‹ (pV=const) è¨ˆç®—æ‰€éœ€çš„ç©ºæ°£é«”ç© [4]" },
                { id: "2aii", max: 1, tid: "1.5.1", detail: "æ ¹æ“šæ³µçš„å–®æ¬¡å£“ç¸®é«”ç©ä¼°ç®—æ‰€éœ€çš„æŠ½æ°£æ¬¡æ•¸ [5]" },
                { id: "2b", max: 2, tid: "1.5.2", detail: "æ‡‰ç”¨æ°£é«”åˆ†å­é‹å‹•è«–è§£é‡‹å£“å¼·å¢åŠ çš„å¾®è§€åŸå›  [5]" },
            
                // --- ç¬¬3é¡Œï¼šå…©è»Šé‹å‹•åˆ†æ (Motion) ---
                { id: "3a", max: 2, tid: "2.2.2", detail: "æè¿° v-t åœ–ä¸­æ±½è»Š A åœ¨æ•´å€‹æ—…ç¨‹ä¸­çš„é‹å‹•ç‹€æ…‹ [6]" },
                { id: "3bi", max: 2, tid: "2.1.3", detail: "å¾ v-t åœ–æ–œç‡è¨ˆç®—ä¸¦æ¯”è¼ƒå…©è»Šçš„æœ€å¤§åŠ é€Ÿåº¦ [7]" },
                { id: "3bii", max: 2, tid: "2.2.2", detail: "æ ¹æ“š v-t åœ–ç¹ªè£½æ±½è»Š B å°æ‡‰çš„ a-t åœ– [7]" },
                { id: "3ci", max: 2, tid: "2.2.2", detail: "åˆ©ç”¨åœ–ä¸‹é¢ç©è¨ˆç®—ç‰¹å®šæ™‚åˆ»å…©è»Šä¹‹é–“çš„è·é›¢ [7]" },
                { id: "3cii", max: 2, tid: "2.2.2", detail: "æ¨å°å…©è»Šä½ç§»ç›¸ç­‰æ™‚çš„è¿½ä¸Šæ™‚é–“ [7]" },
                { id: "3d", max: 2, tid: "2.6.4", detail: "è€ƒæ…®é˜»åŠ›èˆ‡é€Ÿåº¦å¹³æ–¹æˆæ­£æ¯”ï¼Œè¨ˆç®—å¼•æ“è¼¸å‡ºåŠŸç‡æ¯”ä¾‹ [8]" },
            
                // --- ç¬¬4é¡Œï¼šåŠ é€Ÿåº¦è¨ˆåŸç† (Forces) ---
                { id: "4a", max: 4, tid: "2.3.1", detail: "ç¹ªè£½å—åŠ›éš”é›¢é«”åœ– (FBD) ä¸¦è§£é‡‹å‘ä¸ŠåŠ é€Ÿæ™‚ç‰©é«”é«˜åº¦ä¸‹é™åŸå›  [9, 10]" },
                { id: "4b", max: 3, tid: "2.3.3", detail: "æ ¹æ“šå½ˆç°§ç§¤è®€æ•¸è®ŠåŒ–èˆ‡ F=ma è¨ˆç®—ç›’å­çš„åŠ é€Ÿåº¦ [11]" },
                { id: "4c", max: 2, tid: "2.3.3", detail: "åˆ†ææ™ºèƒ½é›»è©±æ—‹è½‰æ™‚åŠ é€Ÿåº¦è¨ˆæ„Ÿæ‡‰å€¼çš„è®ŠåŒ–èˆ‡é¡¯ç¤ºåˆ¤å®š [12]" },
            
                // --- ç¬¬5é¡Œï¼šæŠ˜å°„èˆ‡å…¨å…§åå°„ (Optics) ---
                { id: "5a", max: 2, tid: "3.2.1", detail: "åˆ©ç”¨ Snell's Law è¨ˆç®—åŠåœ“å½¢ç»ç’ƒå¡Šå°ç´…å…‰çš„æŠ˜å°„ç‡ [13]" },
                { id: "5b", max: 2, tid: "3.2.2", detail: "åˆ¤å®šä¸¦è§£é‡‹å…‰ç·šåœ¨ç•Œé¢ç™¼ç”Ÿå…¨å…§åå°„çš„ç‰©ç†æ¢ä»¶ [13]" },
                { id: "5c", max: 2, tid: "3.2.2", detail: "è£œå®Œä¸¦ç¹ªç•«å…‰ç·šåœ¨ç»ç’ƒå¡Šå…§åŠå°„å…¥ç©ºæ°£çš„å¾ŒçºŒè·¯å¾‘ [14]" },
                { id: "5d", max: 1, tid: "3.2.1", detail: "æè¿°ç™½å…‰å°„å…¥å¾Œåœ¨å‡ºå°„ç•Œé¢è§€å¯Ÿåˆ°çš„è‰²æ•£ç¾è±¡ [14]" },
            
                // --- ç¬¬6é¡Œï¼šé€é¡æˆåƒ (Lenses) ---
                { id: "6a", max: 2, tid: "3.3.1", detail: "æ ¹æ“šå…‰ç·šè·¯å¾‘åˆ¤å®šé€é¡ç¨®é¡ï¼ˆå‡¸é€é¡ï¼‰ä¸¦è§£é‡‹ç†ç”± [15]" },
                { id: "6bi", max: 2, tid: "3.3.2", detail: "åˆ©ç”¨ä½œåœ–æ³•ï¼ˆç‰¹å¾µå…‰ç·šï¼‰æ¨™ç¤ºé è™•ç‰©é»çš„åƒä½ç½® [15]" },
                { id: "6bii", max: 1, tid: "3.3.4", detail: "æ ¹æ“šä½œåœ–çµæœæ¸¬é‡ä¸¦æ±‚å‡ºé€é¡çš„ç„¦è· [15]" },
                { id: "6c", max: 1, tid: "3.3.2", detail: "å®Œæˆä¾†è‡ªåŒä¸€ç‰©é»çš„ç¬¬ä¸‰æ¢ç‰¹å¾µå…‰ç·šçš„è·¯å¾‘ [15]" },
                { id: "6d", max: 2, tid: "3.3.4", detail: "æè¿°ä¸€ç¨®æ¸¬å®šè–„é€é¡ç„¦è·çš„ç°¡å–®å¯¦é©—æ–¹æ³• [16]" },
            
                // --- ç¬¬7é¡Œï¼šå…‰æŸµè¡å°„å¯¦é©— (Diffraction) ---
                { id: "7ai", max: 1, tid: "3.6.3", detail: "æ ¹æ“šå¹¾ä½•è·é›¢è¨ˆç®—ç¬¬äºŒç´šäº®é»çš„è¡å°„è§’ [17]" },
                { id: "7aii", max: 3, tid: "3.6.3", detail: "æ‡‰ç”¨å…‰æŸµæ–¹ç¨‹ (d sin Î¸ = nÎ») è¨ˆç®—æ¿€å…‰æ³¢é•· [17]" },
                { id: "7aiii", max: 1, tid: "3.6.3", detail: "æŒ‡å‡ºé‡åº¦è¼ƒé«˜éšäº®é»ä½ç½®å°æé«˜å¯¦é©—æº–ç¢ºåº¦çš„å„ªé» [18]" },
                { id: "7b", max: 2, tid: "3.6.3", detail: "å»ºè­°æ¸›ä½ç‹¹ç¸«èˆ‡ç±³å°ºå°æº–èª¤å·®çš„å¯¦é©—æ”¹å–„æ–¹æ³• [19]" },
            
                // --- ç¬¬8é¡Œï¼šå®¶å±…é›»å­¸ (Electricity) ---
                { id: "8a", max: 1, tid: "4.2.3", detail: "è¨ˆç®—é¡å®šå€¼ç‚º 500W 220V çš„åŠ ç†±å…ƒä»¶é›»é˜» [20]" },
                { id: "8b", max: 2, tid: "4.2.5", detail: "åˆ†æç‰¹å®šé–‹é—œæ¨¡å¼ä¸‹é›»ç†±å™¨çš„ç¸½æ¶ˆè€—åŠŸç‡ [20]" },
                { id: "8c", max: 2, tid: "4.3.1", detail: "åˆ¤æ–·ä½•ç¨®æ¨¡å¼å…·æœ‰æœ€å¤§åŠŸç‡ä¸¦è§£é‡‹é›»é˜»é€£æ¥é—œä¿‚ [20]" },
                { id: "8di", max: 3, tid: "4.4.2", detail: "æ ¹æ“šç¸½é›»æµè¨ˆç®—é¸æ“‡æœ€åˆé©çš„ä¿éšªçµ²è¦æ ¼ [21]" },
                { id: "8dii", max: 2, tid: "4.4.2", detail: "è©•è«–é–‹é—œå®‰è£ä½ç½®ï¼ˆç«ç·š vs é›¶ç·šï¼‰å°ç”¨é›»å®‰å…¨çš„å½±éŸ¿ [21]" },
                { id: "8diii", max: 2, tid: "4.4.2", detail: "è§£é‡‹æ¥åœ°ç·šå¦‚ä½•é é˜²æ¼é›»å°è‡´çš„è§¸é›»é¢¨éšª [21]" },
            
                // --- ç¬¬9é¡Œï¼šé›»ç£æ„Ÿæ‡‰ (Electromagnetism) ---
                { id: "9a", max: 6, tid: "4.7.1", detail: "æè¿°æ¼”ç¤ºæ¥æ¬¡å®šå¾‹çš„å¯¦é©—æ­¥é©Ÿã€è§€å¯ŸçµæœåŠç‰©ç†è§£é‡‹ [22, 23]" },
                { id: "9bi", max: 1, tid: "4.7.1", detail: "é æ¸¬æ”¹ç”¨äº¤æµé›»ä¾›æ‡‰æ™‚é‹ç’°ç”¢ç”Ÿçš„ç‰©ç†ç¾è±¡ [23]" },
                { id: "9bii", max: 1, tid: "4.7.2", detail: "è§£é‡‹é‹ç’°æœ‰è£‚ç¸«æ™‚ç„¡æ³•æ‡¸æµ®çš„åŸå› ï¼ˆæ¸¦é›»æµå—é˜»ï¼‰[23]" },
            
                // --- ç¬¬10é¡Œï¼šæ”¾å°„ç¾è±¡ (Radioactivity) ---
                { id: "10a", max: 1, tid: "5.1.3", detail: "è§£é‡‹æ”¾å°„æºå¯†å°åœ¨é‡‘å±¬æ®¼å…§å° Î± è¼»å°„çš„é˜²è­·ä½œç”¨ [24]" },
                { id: "10bi", max: 3, tid: "5.2.2", detail: "åˆ©ç”¨åŸå­æ•¸ç›®åŠåŠè¡°æœŸè¨ˆç®—æ”¾å°„æºçš„åˆå§‹æ”¾å°„å¼·åº¦ [24, 25]" },
                { id: "10bii", max: 2, tid: "5.3.2", detail: "çµåˆè¡°è®Šèƒ½é‡é‡‹æ”¾ç‡ä¼°ç®—æ”¾å°„æºçš„ç™¼é›»åŠŸç‡ [25, 26]" },
                { id: "10biii", max: 2, tid: "5.2.2", detail: "è¨ˆç®—ç¶“é 36 å¹´å¾Œæ”¾å°„æºå‰©é¤˜åŠŸç‡çš„ç™¾åˆ†æ¯” [25, 26]" }
            ],
            // ==========================================
            // 2014 DSE PHY Paper 2 (Elective) Map
            // ==========================================
            
            // --- Elective Section C: Energy and Use of Energy ---
            "2014_2_E3": {
                1: { tid: "E3.2.2", detail: "æ¯”è¼ƒä¸åŒå–®è‰²å…‰æºåœ¨æµæ˜èˆ‡åŠŸç‡ä¸‹çš„äº®åº¦æ„Ÿ" },
                2: { tid: "E3.1.1", detail: "åˆ†æèƒ½æºæ¨™ç±¤æ•¸æ“šä»¥åˆ¤å®šå†·æ°£æ©Ÿçš„èƒ½æºæ•ˆç›Š" },
                3: { tid: "E3.3.1", detail: "æ ¹æ“šç†±å‚³å°ä¿‚æ•¸èˆ‡åšåº¦é¸æ“‡æœ€ä½³éš”ç†±å»ºç¯‰ææ–™" },
                4: { tid: "E3.3.1", detail: "ä½æ”¾å°„ç‡å¡—å±¤ï¼ˆLow-eï¼‰å°åå°„ç´…å¤–è¼»å°„çš„ä½œç”¨" },
                5: { tid: "E3.4.1", detail: "æ‡‰ç”¨é¢¨åŠ›ç™¼é›»åŠŸç‡æ–¹ç¨‹è¨ˆç®—å¹³å‡è¼¸å‡ºåŠŸç‡" },
                6: { tid: "E3.3.2", detail: "è¾¨ææ··åˆå‹•åŠ›è»Šçš„èƒ½é‡ä¾†æºèˆ‡é©…å‹•ç‰¹å¾µ" },
                7: { tid: "E3.4.1", detail: "åˆ©ç”¨æ¯ä¸€æ ¸å­çµåˆèƒ½æ›²ç·šåˆ†ææ ¸è£‚è®Šèˆ‡èšè®Šçš„ç©©å®šæ€§" },
                8: { tid: "E3.4.1", detail: "åˆ†æå£“æ°´å¼æ ¸åæ‡‰å †ï¼ˆPWRï¼‰é‹ä½œä¸­çš„æ”¾å°„æ€§å®‰å…¨å•é¡Œ" }
            },
            "2014_2_E3_LQ": [
                { id: "3a", max: 2, tid: "E3.1.1", detail: "è¨ˆç®—é›»å‹•è»Šé›»æ± å……é›»è‡³æ»¿é›»æ‰€éœ€çš„ä¼°è¨ˆæ™‚é–“" },
                { id: "3bi", max: 3, tid: "E3.3.2", detail: "æè¿°å†ç”Ÿåˆ¶å‹•ç³»çµ±åœ¨è»Šè¼›å‰é€²åŠ é€Ÿèˆ‡åˆ¶å‹•æ™‚çš„èƒ½é‡è½‰æ›" },
                { id: "3bii", max: 2, tid: "E3.3.2", detail: "åˆ†æè¡Œè»Šé€Ÿåº¦å°å†ç”Ÿåˆ¶å‹•ç³»çµ±æ”¶é›†èƒ½é‡æ•ˆèƒ½çš„å½±éŸ¿" },
                { id: "3biii", max: 1, tid: "E3.3.2", detail: "è§£é‡‹é›»å‹•è»Šé…å‚™å‚³çµ±æ©Ÿæ¢°åˆ¶å‹•ç³»çµ±çš„å¿…è¦æ€§" },
                { id: "3c", max: 2, tid: "E3.3.2", detail: "ç¶œåˆæ¯”è¼ƒæ±½æ²¹ã€ç…¤é›»åŠæ ¸é›»é©…å‹•æ¨¡å¼çš„ç¸½é«”èƒ½æºæ•ˆç›Šèˆ‡æ±¡æŸ“" }
            ],
            
            // --- Elective Section D: Medical Physics ---
            "2014_2_E4": {
                1: { tid: "E4.1.2", detail: "åˆ†æé›™å…‰é¡ç‰‡å°è€èŠ±çœ¼ï¼ˆPresbyopiaï¼‰åŠé è™•ç‰©é«”çš„çŸ¯æ­£åŸç†" },
                2: { tid: "E4.2.1", detail: "è¾¨æè½é–¾çš„è²å¼·ç´šï¼ˆdBï¼‰èˆ‡é »ç‡çš„ä¾è³´é—œä¿‚" },
                3: { tid: "E4.2.3", detail: "åˆ†æè¶…è²æ³¢ A-æƒæä¸­è„‚è‚ªèˆ‡éª¨éª¼ç•Œé¢çš„åå°„ä¿¡è™Ÿæ³¢å³¯" },
                4: { tid: "E4.1.3", detail: "å€åˆ¥ç›¸å¹²èˆ‡éç›¸å¹²å…‰çº–ç®¡æŸåœ¨å…§çªºé¡å½±åƒå‚³è¼¸ä¸­çš„è§’è‰²" },
                5: { tid: "E4.2.3", detail: "åˆ¤å®šæœ€é©åˆç©¿åˆºæ´»æª¢å¯¦æ™‚ç›£æ§ï¼ˆReal-time imagingï¼‰çš„å½±åƒæ–¹æ³•" },
                6: { tid: "E4.3.1", detail: "æ‡‰ç”¨ X å°„ç·šè¡°æ¸›å®šå¾‹èˆ‡ç·šè¡°æ¸›ä¿‚æ•¸è¨ˆç®—å¼·åº¦é€å°„æ¯”" },
                7: { tid: "E4.3.1", detail: "èªªæ˜äººå·¥é¡¯å½±åŠ‘ï¼ˆACM/é‹‡é¤ï¼‰åœ¨æé«˜ X å°„ç·šå½±åƒå°æ¯”åº¦çš„æ©Ÿåˆ¶" },
                8: { tid: "E4.3.3", detail: "çµåˆç”Ÿç‰©èˆ‡ç‰©ç†åŠè¡°æœŸè¨ˆç®—é«”å…§æ”¾å°„æ€§ç¤ºè¹¤åŠ‘çš„è¡°æ¸›æ™‚é–“" }
            },
            "2014_2_E4_LQ": [
                { id: "4ai", max: 2, tid: "E4.2.2", detail: "æè¿°å£“é›»æ›èƒ½å™¨ç”¢ç”Ÿé†«å­¸ç”¨è¶…è²æ³¢è„ˆè¡çš„å·¥ä½œåŸç†" },
                { id: "4aii", max: 2, tid: "E4.2.3", detail: "æŒ‡å‡ºåœ¨é†«å­¸æˆåƒä¸­ä½¿ç”¨é«˜é »è¶…è²æ³¢çš„ä¸€é …å„ªé»èˆ‡é™åˆ¶" },
                { id: "4bi", max: 2, tid: "E4.1.2", detail: "åˆ©ç”¨çœ¼ç›ç¸½ç„¦å¼·ï¼ˆDioptreï¼‰ä¼°è¨ˆæ™¶ç‹€é«”è‡³è¦–ç¶²è†œçš„è·é›¢" },
                { id: "4bii", max: 2, tid: "E4.1.1", detail: "æ‡‰ç”¨ç‘åˆ©åˆ¤æ“šï¼ˆRayleigh criterionï¼‰è¨ˆç®—äººçœ¼å°æ‰‹æ©Ÿåƒç´ çš„è§£åƒåŠ›" },
                { id: "4biii", max: 2, tid: "E4.1.1", detail: "ä¼°ç®—åœ¨ç‰¹å®šè¦–è·ä¸‹ï¼Œäººçœ¼ç„¡æ³•åˆ†è¾¨ç›¸é„°åƒç´ æ™‚çš„æœ€å°åƒç´ é‚Šé•·" }
            ]
        };

        const YEAR_OPTIONS = Array.from({length: 12}, (_, i) => 2025 - i);

        const App = () => {
            const [view, setView] = useState('students');
            const [students, setStudents] = useState([]);
            const [records, setRecords] = useState([]);
            // New State for Generation History
            const [genHistory, setGenHistory] = useState([]);

            const [answerKeys, setAnswerKeys] = useState(() => {
                const saved = localStorage.getItem('dsePhysV7');
                if (saved) {
                    try {
                        const parsed = JSON.parse(saved);
                        const savedKeys = parsed.answerKeys || {};
                        return { ...savedKeys, ...PRELOADED_KEYS }; 
                    } catch(e) { return PRELOADED_KEYS; }
                }
                return PRELOADED_KEYS;
            });

            // UI State
            const [inputForm, setInputForm] = useState({ studentId: '', year: '2016', paper: '1A', answers: {}, scores: {} });
            const [dashStudent, setDashStudent] = useState('');
            const [dashPaperType, setDashPaperType] = useState('core'); 
            
            // AI Settings
            const [genSettings, setGenSettings] = useState({ difficulty: 'medium', type: 'mixed', lang: 'zh' });
            const [selectedTopics, setSelectedTopics] = useState([]);
            const [generatedPrompt, setGeneratedPrompt] = useState('');

            // Load Data
            useEffect(() => {
                const saved = localStorage.getItem('dsePhysV7');
                if (saved) {
                    try {
                        const data = JSON.parse(saved);
                        setStudents(data.students || []);
                        setRecords(data.records || []);
                        setGenHistory(data.genHistory || []); // Load History
                        if(data.students?.[0]) setDashStudent(data.students[0].id);
                    } catch(e) {}
                }
            }, []);

            // Save Data
            useEffect(() => {
                localStorage.setItem('dsePhysV7', JSON.stringify({ 
                    students, 
                    answerKeys, 
                    records,
                    genHistory // Save History
                }));
            }, [students, answerKeys, records, genHistory]);

// [MODIFIED V2] è®€å– Topic Info (æ”¯æ´ MC å’Œ LQ çš„ Detail)
            const getTopicInfo = (year, paper, qNum) => {
                let mapKeyMC = `${year}_${paper}`;
                let mapKeyLQ = `${year}_${paper}`;
                if (paper.includes('2_')) mapKeyLQ = `${year}_${paper}_LQ`;

                const mapDataMC = FULL_QUESTION_MAP[mapKeyMC];
                const mapDataLQ = FULL_QUESTION_MAP[mapKeyLQ];
                
                let topicId = null;
                let specificDetail = null; // å„²å­˜å…·é«”å¼±é»æè¿°

                // --- è™•ç† MC (Paper 1A æˆ– Paper 2 å‰8é¡Œ) ---
                if (paper === '1A' || (paper.includes('2_') && !isNaN(qNum) && parseInt(qNum) <= 8)) {
                    if (mapDataMC && mapDataMC[qNum]) {
                        const rawData = mapDataMC[qNum];
                        
                        // åˆ¤æ–·æ ¼å¼ï¼šæ˜¯ç‰©ä»¶ {tid, detail} é‚„æ˜¯ç´”å­—ä¸² "1.2.3"
                        if (typeof rawData === 'object') {
                            topicId = rawData.tid;
                            specificDetail = rawData.detail;
                        } else {
                            topicId = rawData; // èˆŠæ ¼å¼ï¼Œåªæœ‰ ID
                        }
                    }
                } 
                // --- è™•ç† LQ (Paper 1B æˆ– Paper 2 LQ) ---
                else {
                    if (Array.isArray(mapDataLQ)) {
                        const qItem = mapDataLQ.find(item => item.id === qNum);
                        if (qItem) {
                            topicId = qItem.tid;
                            specificDetail = qItem.detail; // è®€å– LQ çš„ detail
                        }
                    }
                }

                // å¦‚æœæ‰¾ä¸åˆ° Topic IDï¼Œä½¿ç”¨ Hash ç®—æ³•éš¨æ©Ÿåˆ†é…ä¸€å€‹ (é˜²æ­¢å ±éŒ¯)
                if (!topicId) {
                    const ids = Object.keys(SYLLABUS_DATA);
                    const hash = String(qNum).split('').reduce((a,b)=>a+b.charCodeAt(0),0);
                    topicId = ids[hash % ids.length];
                }
                
                const topicData = SYLLABUS_DATA[topicId] || { section: 'Gen', topic: `Topic ${topicId}`, desc: 'Unknown' };
                
                // è¿”å›å®Œæ•´çš„è³‡è¨Š
                return { id: topicId, ...topicData, detail: specificDetail };
            };

            const Sidebar = () => (
                <div className="w-64 bg-slate-900 text-white h-screen fixed left-0 top-0 flex flex-col shadow-2xl z-10">
                    <div className="p-6 border-b border-slate-700">
                        <h1 className="text-xl font-bold tracking-wider italic">PHY MASTER</h1>
                        <div className="text-xs text-orange-400 mt-1">V7.3.0 History Added</div>
                    </div>
                    <nav className="p-4 space-y-2 flex-1 overflow-y-auto">
                        {[
                            {id: 'students', icon: 'ğŸ‘¥', label: 'å­¸ç”Ÿç®¡ç†'},
                            {id: 'input', icon: 'ğŸ“', label: 'è¼¸å…¥æˆç¸¾'},
                            {id: 'dashboard', icon: 'ğŸ“Š', label: 'è¨ºæ–·å ±å‘Š'},
                            {id: 'generate', icon: 'ğŸ¤–', label: 'AI ç·´ç¿’ç”Ÿæˆ'},
                            {id: 'history', icon: 'ğŸ“œ', label: 'ç”Ÿæˆç´€éŒ„'}, // New Item
                            {id: 'data', icon: 'ğŸ’¾', label: 'æ•¸æ“šå‚™ä»½ (Data)'} 
                        ].map(item => (
                            <button key={item.id} onClick={() => setView(item.id)}
                                className={`w-full flex items-center gap-3 px-4 py-3 rounded transition-all ${view===item.id ? 'bg-blue-600 text-white shadow-lg' : 'text-slate-400 hover:bg-slate-800 hover:text-white'}`}>
                                <span>{item.icon}</span> {item.label}
                            </button>
                        ))}
                    </nav>
                </div>
            );

            // ==========================
            // Data Management View
            // ==========================
            const DataView = () => {
                const fileInputRef = useRef(null);

                const handleExport = () => {
                    const data = {
                        version: "7.3.0",
                        timestamp: new Date().toISOString(),
                        students,
                        answerKeys,
                        records,
                        genHistory // Included in backup
                    };
                    const blob = new Blob([JSON.stringify(data, null, 2)], { type: "application/json" });
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement("a");
                    a.href = url;
                    a.download = `PHY_MASTER_BACKUP_${new Date().toISOString().slice(0,10)}.json`;
                    a.click();
                };

                const handleImport = (e) => {
                    const file = e.target.files[0];
                    if(!file) return;
                    const reader = new FileReader();
                    reader.onload = (event) => {
                        try {
                            const data = JSON.parse(event.target.result);
                            if(confirm(`ç¢ºèªå¾æª”æ¡ˆå°å…¥æ•¸æ“šå—ï¼Ÿ\né€™å°‡è¦†è“‹ç¾æœ‰æ•¸æ“šï¼\n(åŒ…å« ${data.students?.length||0} ä½å­¸ç”Ÿ, ${data.records?.length||0} ç­†æˆç¸¾)`)) {
                                if(data.students) setStudents(data.students);
                                if(data.answerKeys) setAnswerKeys(prev => ({...prev, ...data.answerKeys}));
                                if(data.records) setRecords(data.records);
                                if(data.genHistory) setGenHistory(data.genHistory); // Import History
                                alert("âœ… å°å…¥æˆåŠŸï¼");
                            }
                        } catch(err) {
                            alert("âŒ æª”æ¡ˆæ ¼å¼éŒ¯èª¤");
                        }
                    };
                    reader.readAsText(file);
                };

                return (
                    <div className="max-w-4xl mx-auto bg-white p-8 rounded-xl shadow-sm">
                        <h2 className="text-2xl font-bold mb-6 text-slate-800">ğŸ’¾ æ•¸æ“šå‚™ä»½èˆ‡é‚„åŸ</h2>
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <div className="p-6 border-2 border-dashed border-blue-200 rounded-xl bg-blue-50 flex flex-col items-center justify-center text-center">
                                <span className="text-4xl mb-4">ğŸ“¤</span>
                                <h3 className="text-xl font-bold text-slate-700 mb-2">å°å‡ºæ•¸æ“š (Export)</h3>
                                <p className="text-sm text-slate-500 mb-4">å°‡æ‰€æœ‰å­¸ç”Ÿã€æˆç¸¾ã€ç­”æ¡ˆè¨­å®šåŠ<b>ç”Ÿæˆç´€éŒ„</b>ä¸‹è¼‰ç‚º JSON æª”æ¡ˆã€‚</p>
                                <button onClick={handleExport} className="bg-blue-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-blue-700 shadow transition">
                                    ä¸‹è¼‰å‚™ä»½æª”æ¡ˆ
                                </button>
                            </div>

                            <div className="p-6 border-2 border-dashed border-orange-200 rounded-xl bg-orange-50 flex flex-col items-center justify-center text-center">
                                <span className="text-4xl mb-4">ğŸ“¥</span>
                                <h3 className="text-xl font-bold text-slate-700 mb-2">å°å…¥æ•¸æ“š (Import)</h3>
                                <p className="text-sm text-slate-500 mb-4">å¾é›»è…¦ä¸Šå‚³ JSON æª”æ¡ˆä»¥é‚„åŸæ•¸æ“šã€‚</p>
                                <input type="file" accept=".json" ref={fileInputRef} onChange={handleImport} className="hidden" />
                                <button onClick={()=>fileInputRef.current.click()} className="bg-orange-500 text-white px-6 py-2 rounded-lg font-bold hover:bg-orange-600 shadow transition">
                                    é¸æ“‡æª”æ¡ˆä¸Šå‚³
                                </button>
                            </div>
                        </div>
                    </div>
                );
            };

            const StudentsView = () => {
                const [name, setName] = useState('');
                const add = () => {
                    if(!name) return;
                    setStudents([...students, { id: Date.now().toString(), name, joinDate: new Date().toLocaleDateString() }]);
                    setName('');
                };
                return (
                    <div className="max-w-4xl mx-auto bg-white p-8 rounded-xl shadow-sm">
                        <h2 className="text-2xl font-bold mb-6 text-slate-800">ğŸ‘¥ å­¸ç”Ÿæª”æ¡ˆ</h2>
                        <div className="flex gap-4 mb-8">
                            <input className="flex-1 border p-3 rounded-lg outline-none focus:border-blue-500" placeholder="å­¸ç”Ÿå§“å" value={name} onChange={e=>setName(e.target.value)} />
                            <button onClick={add} className="bg-blue-600 text-white px-8 rounded-lg font-bold hover:bg-blue-700">æ–°å¢</button>
                        </div>
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                            {students.map(s => (
                                <div key={s.id} className="p-4 border rounded-lg bg-slate-50 flex justify-between">
                                    <span className="font-bold">{s.name}</span>
                                    <button onClick={()=>{setStudents(students.filter(x=>x.id!==s.id)); setRecords(records.filter(r=>r.studentId!==s.id))}} className="text-red-400 hover:text-red-600">åˆªé™¤</button>
                                </div>
                            ))}
                        </div>
                    </div>
                );
            };

            const InputView = () => {
                const { studentId, year, paper } = inputForm;
                const keyId = `${year}_${paper}`;
                const sysKey = answerKeys[keyId] || {};
                
                let lqConfig = null;
                if (paper === '1B') lqConfig = FULL_QUESTION_MAP[`${year}_1B`];
                else if (paper.includes('2_')) lqConfig = FULL_QUESTION_MAP[`${year}_${paper}_LQ`];

                useEffect(() => {
                    if (!studentId && students.length > 0) setInputForm(prev => ({ ...prev, studentId: students[0].id }));
                }, [students]);

                const toggleMC = (q, opt) => {
                    const isCorrect = sysKey[q] === opt;
                    setInputForm({
                        ...inputForm, 
                        answers: {...inputForm.answers, [q]: opt},
                        scores: {...inputForm.scores, [q]: isCorrect ? 1 : 0}
                    });
                };

                const updateScore = (qKey, val, max) => {
                    let numVal = parseFloat(val);
                    if(val === '') numVal = ''; 
                    else if(numVal < 0) numVal = 0;
                    else if(numVal > max) numVal = max;
                    setInputForm({ ...inputForm, scores: {...inputForm.scores, [qKey]: numVal} });
                };

                const save = () => {
                    if(!studentId) return alert('è«‹é¸æ“‡å­¸ç”Ÿ');
                    const newRec = { ...inputForm, id: Date.now(), timestamp: new Date().toISOString() };
                    const others = records.filter(r => !(r.studentId===studentId && r.year==year && r.paper===paper));
                    setRecords([...others, newRec]);
                    alert('âœ… å·²å„²å­˜');
                };

                const showMC = paper === '1A' || paper.includes('2_');
                const mcCount = paper === '1A' ? 33 : 8;
                const showLQ = paper === '1B' || paper.includes('2_');

                return (
                    <div className="max-w-5xl mx-auto bg-white p-8 rounded-xl shadow-sm">
                        <h2 className="text-2xl font-bold mb-6">ğŸ“ è¼¸å…¥æˆç¸¾</h2>
                        <div className="grid grid-cols-3 gap-4 mb-6 bg-blue-50 p-4 rounded-lg">
                            <div>
                                <label className="block text-xs font-bold text-slate-500 mb-1">å­¸ç”Ÿ</label>
                                <select className="w-full border p-2 rounded" value={studentId} onChange={e=>setInputForm({...inputForm, studentId:e.target.value})}>
                                    <option value="">-- è«‹é¸æ“‡ --</option>
                                    {students.map(s => <option key={s.id} value={s.id}>{s.name}</option>)}
                                </select>
                            </div>
                            <div>
                                <label className="block text-xs font-bold text-slate-500 mb-1">å¹´ä»½</label>
                                <select className="w-full border p-2 rounded" value={year} onChange={e=>setInputForm({...inputForm, year:e.target.value, answers:{}, scores:{}})}>
                                    {YEAR_OPTIONS.map(y => <option key={y} value={y}>{y}</option>)}
                                </select>
                            </div>
                            <div>
                                <label className="block text-xs font-bold text-slate-500 mb-1">è©¦å·</label>
                                <select className="w-full border p-2 rounded font-bold" value={paper} onChange={e=>setInputForm({...inputForm, paper:e.target.value, answers:{}, scores:{}})}>
                                    <optgroup label="Core (å¿…ä¿®)">
                                        <option value="1A">Paper 1A (MC)</option>
                                        <option value="1B">Paper 1B (LQ)</option>
                                    </optgroup>
                                    <optgroup label="Electives (é¸ä¿® Paper 2)">
                                        <option value="2_E3">E3 - Energy (MC+LQ)</option>
                                        <option value="2_E4">E4 - Medical (MC+LQ)</option>
                                    </optgroup>
                                </select>
                            </div>
                        </div>
                        
                        {showMC && (
                            <div className="mb-8">
                                <h3 className="font-bold text-slate-600 mb-3 border-b pb-2">MC éƒ¨ä»½ (Q1-{mcCount})</h3>
                                {Object.keys(sysKey).length === 0 && <div className="text-red-500 text-xs mb-2">âš  æ³¨æ„ï¼šæ­¤å¹´ä»½/è©¦å·å°šæœªè¨­å®šæ¨™æº–ç­”æ¡ˆï¼Œç³»çµ±ç„¡æ³•è‡ªå‹•è©•åˆ†ã€‚</div>}
                                <div className={`grid gap-3 ${paper==='1A'?'grid-cols-2 md:grid-cols-4':'grid-cols-2 md:grid-cols-4'}`}>
                                    {Array.from({length: mcCount}).map((_, i) => {
                                        const q = i+1;
                                        const myAns = inputForm.answers[q];
                                        const realAns = sysKey[q];
                                        let statusClass = "border-slate-200";
                                        if(myAns && realAns) statusClass = myAns===realAns ? "bg-green-50 border-green-300" : "bg-red-50 border-red-300";

                                        return (
                                            <div key={q} className={`p-2 border rounded flex flex-col ${statusClass}`}>
                                                <div className="flex justify-between items-center mb-1">
                                                    <span className="font-bold text-slate-500">Q{q}</span>
                                                </div>
                                                <div className="flex justify-between">
                                                    {['A','B','C','D'].map(opt => (
                                                        <button key={opt} onClick={()=>toggleMC(q, opt)} 
                                                            className={`w-6 h-6 text-xs rounded font-bold ${myAns===opt?'bg-slate-800 text-white':'bg-white text-slate-400 border'}`}>
                                                            {opt}
                                                        </button>
                                                    ))}
                                                </div>
                                            </div>
                                        )
                                    })}
                                </div>
                            </div>
                        )}

                        {showLQ && (
                            <div>
                                <h3 className="font-bold text-slate-600 mb-3 border-b pb-2">é•·é¡Œç›®éƒ¨ä»½ (LQ)</h3>
                                {lqConfig ? (
                                    <div className="grid grid-cols-3 md:grid-cols-5 gap-4">
                                        {lqConfig.map((item) => (
                                            <div key={item.id} className="flex flex-col">
                                                <div className="flex justify-between items-end mb-1">
                                                    <span className="text-sm font-bold text-slate-700">Q{item.id}</span>
                                                    <span className="text-[10px] text-slate-400 bg-slate-100 px-1 rounded">/{item.max}</span>
                                                </div>
                                                <input type="number" className="border p-2 rounded text-center focus:ring-2 focus:ring-blue-500 outline-none"
                                                    value={inputForm.scores[item.id] ?? ''}
                                                    onChange={e => updateScore(item.id, e.target.value, item.max)}
                                                />
                                                <span className="text-[9px] text-center text-slate-300 mt-1 truncate" title={item.tid}>{item.tid}</span>
                                            </div>
                                        ))}
                                    </div>
                                ) : (
                                    <div className="text-sm text-yellow-600 bg-yellow-50 p-2 rounded">
                                        æ­¤å¹´ä»½ ({year}) å°šæœªè¼‰å…¥è©³ç´°é¡Œç›®åœ°åœ–ã€‚
                                    </div>
                                )}
                            </div>
                        )}

                        <button onClick={save} className="w-full mt-6 bg-slate-800 text-white py-3 rounded font-bold hover:bg-slate-700 shadow-lg">å„²å­˜æˆç¸¾</button>
                    </div>
                );
            };

            const DashboardView = () => {
                useEffect(() => {
                    if (!dashStudent && students.length > 0) setDashStudent(students[0].id);
                }, [students, dashStudent]);

                const subTopicStats = useMemo(() => {
                    if(!dashStudent) return [];
                    const myRecs = records.filter(r => {
                        if (r.studentId !== dashStudent) return false;
                        const isPaper1 = r.paper === '1A' || r.paper === '1B';
                        return dashPaperType === 'core' ? isPaper1 : !isPaper1;
                    });

                    const stats = {};
                    myRecs.forEach(r => {
                        Object.entries(r.scores).forEach(([q, score]) => {
                            const numericScore = parseFloat(score) || 0;
                            const info = getTopicInfo(r.year, r.paper, q);
                            const tid = info.id;
                            
                            if(!stats[tid]) stats[tid] = { ...info, earned: 0, max: 0, count: 0 };
                            
                            stats[tid].earned += numericScore;
                            let qMax = 0;
                            if (r.paper === '1A') qMax = 1;
                            else if (r.paper.includes('2_') && !isNaN(q) && parseInt(q)<=8) qMax = 1;
                            else {
                                let mapKeyLQ = r.paper === '1B' ? `${r.year}_1B` : `${r.year}_${r.paper}_LQ`;
                                const lqList = FULL_QUESTION_MAP[mapKeyLQ];
                                if(Array.isArray(lqList)) {
                                    const qItem = lqList.find(i => i.id === q);
                                    qMax = qItem ? qItem.max : 10;
                                } else qMax = 10;
                            }
                            stats[tid].max += qMax;
                            stats[tid].count++;
                        });
                    });

                    return Object.values(stats).sort((a,b) => {
                        const pctA = a.max > 0 ? (a.earned/a.max) : 0;
                        const pctB = b.max > 0 ? (b.earned/b.max) : 0;
                        return pctA - pctB;
                    });
                }, [records, dashStudent, dashPaperType]);

                const weakestList = subTopicStats.slice(0, 50); 
                const strongestList = [...subTopicStats].reverse().slice(0, 50);

                return (
                    <div className="max-w-6xl mx-auto space-y-6">
                        <div className="bg-white p-4 rounded-xl shadow-sm flex flex-col md:flex-row justify-between items-center gap-4">
                            <h2 className="text-xl font-bold">ğŸ“Š å­èª²é¡Œè¨ºæ–·å ±å‘Š</h2>
                            
                            <div className="flex gap-4 items-center">
                                <div className="bg-slate-100 p-1 rounded-lg flex font-bold text-sm">
                                    <button onClick={()=>setDashPaperType('core')} className={`px-4 py-2 rounded-md transition ${dashPaperType==='core'?'bg-white text-blue-600 shadow':'text-slate-400'}`}>Paper 1 (Core)</button>
                                    <button onClick={()=>setDashPaperType('elective')} className={`px-4 py-2 rounded-md transition ${dashPaperType==='elective'?'bg-white text-purple-600 shadow':'text-slate-400'}`}>Paper 2 (Electives)</button>
                                </div>
                                <select className="border p-2 rounded" value={dashStudent} onChange={e=>setDashStudent(e.target.value)}>
                                    {students.length === 0 && <option value="">ç„¡å­¸ç”Ÿè³‡æ–™</option>}
                                    {students.map(s => <option key={s.id} value={s.id}>{s.name}</option>)}
                                </select>
                            </div>
                        </div>

                        {subTopicStats.length === 0 ? (
                            <div className="p-12 text-center text-slate-400 bg-white rounded-xl">
                                {students.length === 0 ? "è«‹å…ˆæ–°å¢å­¸ç”Ÿ" : "æš«ç„¡æ­¤é¡åˆ¥çš„æˆç¸¾æ•¸æ“šã€‚"}
                            </div>
                        ) : (
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-6 h-[70vh]">
                                <div className="bg-white p-4 rounded-xl shadow-sm border-t-4 border-red-500 flex flex-col h-full">
                                    <h3 className="font-bold text-lg mb-4 text-red-600 flex items-center gap-2 flex-shrink-0">
                                        <span className="text-2xl">âš </span> å¾…æ”¹å–„ (Weakest)
                                    </h3>
                                    <div className="stats-list space-y-3 flex-1">
                                        {weakestList.map(t => (
                                            <div key={t.id} className="p-3 bg-red-50 border border-red-100 rounded-lg flex justify-between items-center">
                                                <div className="overflow-hidden">
                                                    <div className="flex items-center gap-2">
                                                        <span className="sub-topic-tag bg-white text-red-600 px-1 border border-red-200 rounded text-sm">{t.id}</span>
                                                        <span className="font-bold text-slate-800 truncate">{t.topic}</span>
                                                    </div>
                                                    <div className="text-xs text-slate-500 mt-1 pl-1 truncate">{t.desc}</div>
                                                </div>
                                                <div className="text-right flex-shrink-0 ml-2">
                                                    <div className="text-xl font-bold text-red-600">{((t.earned/t.max)*100).toFixed(0)}%</div>
                                                    <div className="text-[10px] text-slate-400">{t.count} é¡Œ</div>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                                <div className="bg-white p-4 rounded-xl shadow-sm border-t-4 border-green-500 flex flex-col h-full">
                                    <h3 className="font-bold text-lg mb-4 text-green-600 flex items-center gap-2 flex-shrink-0">
                                        <span className="text-2xl">â˜…</span> è¡¨ç¾å„ªç•° (Strongest)
                                    </h3>
                                    <div className="stats-list space-y-3 flex-1">
                                        {strongestList.map(t => (
                                            <div key={t.id} className="p-3 bg-green-50 border border-green-100 rounded-lg flex justify-between items-center">
                                                <div className="overflow-hidden">
                                                    <div className="flex items-center gap-2">
                                                        <span className="sub-topic-tag bg-white text-green-600 px-1 border border-green-200 rounded text-sm">{t.id}</span>
                                                        <span className="font-bold text-slate-800 truncate">{t.topic}</span>
                                                    </div>
                                                </div>
                                                <div className="text-xl font-bold text-green-600 flex-shrink-0 ml-2">{((t.earned/t.max)*100).toFixed(0)}%</div>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        )}
                    </div>
                );
            };

            const GenerateView = () => {
                const [studentStats, setStudentStats] = useState({});

                useEffect(() => {
                    if (!dashStudent) return;
                    const myRecs = records.filter(r => r.studentId === dashStudent);
                    const stats = {};
                    Object.keys(SYLLABUS_DATA).forEach(tid => {
                        stats[tid] = { earned: 0, max: 0 };
                    });

                    myRecs.forEach(r => {
                        Object.entries(r.scores).forEach(([q, score]) => {
                            const numericScore = parseFloat(score) || 0;
                            const info = getTopicInfo(r.year, r.paper, q);
                            const tid = info.id;
                            
                            let qMax = 0;
                            if (r.paper === '1A' || (r.paper.includes('2_') && parseInt(q)<=8)) qMax = 1;
                            else {
                                let mapKeyLQ = r.paper === '1B' ? `${r.year}_1B` : `${r.year}_${r.paper}_LQ`;
                                const lqList = FULL_QUESTION_MAP[mapKeyLQ];
                                if(Array.isArray(lqList)) {
                                    const qItem = lqList.find(i => i.id === q);
                                    qMax = qItem ? qItem.max : 10;
                                } else qMax = 10;
                            }

                            if(stats[tid]) {
                                stats[tid].earned += numericScore;
                                stats[tid].max += qMax;
                            }
                        });
                    });
                    setStudentStats(stats);
                }, [dashStudent, records]);

                const toggleTopic = (tid) => {
                    if (selectedTopics.includes(tid)) setSelectedTopics(selectedTopics.filter(t => t !== tid));
                    else setSelectedTopics([...selectedTopics, tid]);
                };

                const toggleAll = () => {
                    if (selectedTopics.length === Object.keys(SYLLABUS_DATA).length) setSelectedTopics([]);
                    else setSelectedTopics(Object.keys(SYLLABUS_DATA));
                };

               // [MODIFIED] ç”Ÿæˆå‡½æ•¸ï¼ŒåŠ å…¥ detail è™•ç†
                const generate = () => {
                    if (!dashStudent) return alert("è«‹å…ˆé¸æ“‡å­¸ç”Ÿ");
                    if (selectedTopics.length === 0) return alert("è«‹è‡³å°‘é¸æ“‡ä¸€å€‹èª²é¡Œ");

                    // 1. æ”¶é›†å­¸ç”Ÿåœ¨é¸å®šèª²é¡Œä¸­çš„ã€Œå…·é«”å¼±é … (Details)ã€
                    const myRecs = records.filter(r => r.studentId === dashStudent);
                    let weakConcepts = [];

                    myRecs.forEach(r => {
                        Object.entries(r.scores).forEach(([q, score]) => {
                            const info = getTopicInfo(r.year, r.paper, q);
                            // å¦‚æœé€™é¡Œå±¬æ–¼æˆ‘å€‘é¸å®šçš„èª²é¡Œï¼Œä¸”æœ‰å…·é«”æè¿° (detail)
                            if (selectedTopics.includes(info.id) && info.detail) {
                                const earned = parseFloat(score) || 0;
                                // åˆ¤æ–·æ»¿åˆ† (å¦‚æœæ˜¯ MC å‰‡ç‚º 1ï¼ŒLQ æŸ¥è¡¨)
                                let max = 1; 
                                if (r.paper !== '1A' && !r.paper.includes('2_') || (r.paper.includes('2_') && isNaN(q))) {
                                     // ç°¡æ˜“é‚è¼¯ï¼šå¦‚æœèƒ½æŸ¥åˆ° max å°±ç”¨ï¼ŒæŸ¥ä¸åˆ°é è¨­ 10 (é˜²æ­¢é™¤ä»¥0)
                                     // é€™è£¡ç‚ºäº†ç°¡åŒ–ï¼Œåªè¦æ‹¿ä¸åˆ°æ»¿åˆ†å°±ç®—å¼±é …
                                     // æ‚¨å¯ä»¥æ ¹æ“šéœ€è¦èª¿æ•´é–¾å€¼ï¼Œä¾‹å¦‚å¾—åˆ†ç‡ < 50%
                                }
                                
                                // é‚è¼¯ï¼šå¦‚æœé€™ä¸€é¡Œæ²’æ‹¿æ»¿åˆ† (æˆ–å¾—åˆ†ç‡ä½)ï¼Œå°±å°‡ detail åŠ å…¥å¼±é …åˆ—è¡¨
                                // é€™è£¡å‡è¨­ï¼šåªè¦æœ‰æ‰£åˆ†ï¼Œå°±å€¼å¾—è¤‡ç¿’
                                // è‹¥è¦åš´æ ¼ä¸€é»ï¼Œå¯ä»¥å»æŸ¥ map è£¡çš„ max scoreï¼Œé€™è£¡ç°¡åŒ–è™•ç†
                                if (earned === 0 || (earned < 2)) { // å‡è¨­ MCéŒ¯ æˆ– LQ ä½åˆ†
                                    weakConcepts.push(`- [${info.id}] ${info.detail}`);
                                }
                            }
                        });
                    });

                    // å»é™¤é‡è¤‡çš„ Weak Concepts
                    weakConcepts = [...new Set(weakConcepts)].slice(0, 8); // æœ€å¤šå– 8 å€‹å…·é«”å¼±é»ä»¥å… Prompt å¤ªé•·

                    const topicListText = selectedTopics.sort().map(tid => {
                        const s = studentStats[tid] || {earned:0, max:0};
                        const pct = s.max > 0 ? Math.round((s.earned / s.max) * 100) + '%' : 'No Data';
                        return `- [${tid}] ${SYLLABUS_DATA[tid].topic} (Score: ${pct})`;
                    }).join('\n');

                    const difficultyMap = { low: 'Foundation/Easy', medium: 'Standard HKDSE', high: 'Challenging/5**' };
                    const typeMap = { mc: 'Multiple Choice (MC) ONLY', lq: 'Long Questions (LQ) ONLY', mixed: 'Mixed (MC & LQ)' };
                    const langMap = { zh: 'Traditional Chinese (ç¹é«”ä¸­æ–‡)', en: 'English' };

                    // [MODIFIED] Prompt Template
                    const prompt = `
Role: Professional HKDSE Physics Tutor.
Task: Create a practice exercise.

**Configuration:**
- **Level:** HKDSE Physics
- **Difficulty:** ${difficultyMap[genSettings.difficulty]}
- **Format:** ${typeMap[genSettings.type]}
- **Language:** ${langMap[genSettings.lang]}

**Targeted Topics:**
${topicListText}

**Specific Weakness Concepts (CRITICAL):**
The student has previously failed questions involving these specific concepts. 
**Please ensure ~20% of the new questions specifically target these misconceptions:**
${weakConcepts.length > 0 ? weakConcepts.join('\n') : "(General practice on topics above)"}

**Requirements:**
1. Generate distinctive questions for the selected topics.
2. Integrate the "Specific Weakness Concepts" into the questions where natural.
3. Provide a Marking Scheme with detailed explanations.
4. If MC, provide 4 options (A,B,C,D).
`.trim();

                    setGeneratedPrompt(prompt);

                    // Save History
                    const sName = students.find(s=>s.id === dashStudent)?.name || "Unknown";
                    const newHistoryItem = {
                        id: Date.now(),
                        timestamp: new Date().toISOString(),
                        studentId: dashStudent,
                        studentName: sName,
                        topics: selectedTopics,
                        settings: genSettings,
                        note: `Weaknesses: ${weakConcepts.length} items targeted.`
                    };
                    setGenHistory(prev => [newHistoryItem, ...prev]);
                    alert("Prompt ç”ŸæˆæˆåŠŸ (åŒ…å«é‡å°æ€§å¼±é»)ï¼");
                };
                
                const sortedTopicKeys = Object.keys(SYLLABUS_DATA).sort((a, b) => a.localeCompare(b, undefined, { numeric: true, sensitivity: 'base' }));

                return (
                    <div className="max-w-6xl mx-auto flex gap-6 h-[85vh]">
                        <div className="w-5/12 bg-white p-5 rounded-xl shadow-sm flex flex-col h-full border border-slate-200">
                            <h2 className="text-lg font-bold mb-4 flex items-center gap-2 text-slate-700">ğŸ› ï¸ ç”Ÿæˆè¨­å®š (Settings)</h2>
                            <div className="grid grid-cols-2 gap-3 mb-4">
                                <div>
                                    <label className="block text-xs font-bold text-slate-500 mb-1">ç›®æ¨™å­¸ç”Ÿ</label>
                                    <select className="w-full border p-2 rounded text-sm bg-slate-50" value={dashStudent} onChange={e=>setDashStudent(e.target.value)}>
                                        {students.map(s => <option key={s.id} value={s.id}>{s.name}</option>)}
                                    </select>
                                </div>
                                <div>
                                    <label className="block text-xs font-bold text-slate-500 mb-1">èªè¨€ (Lang)</label>
                                    <select className="w-full border p-2 rounded text-sm" value={genSettings.lang} onChange={e=>setGenSettings({...genSettings, lang:e.target.value})}>
                                        <option value="zh">ç¹é«”ä¸­æ–‡</option>
                                        <option value="en">English</option>
                                    </select>
                                </div>
                                <div>
                                    <label className="block text-xs font-bold text-slate-500 mb-1">é›£åº¦ (Difficulty)</label>
                                    <select className="w-full border p-2 rounded text-sm" value={genSettings.difficulty} onChange={e=>setGenSettings({...genSettings, difficulty:e.target.value})}>
                                        <option value="low">ä½ (åŸºç¤éå›º)</option>
                                        <option value="medium">ä¸­ (DSE æ¨™æº–)</option>
                                        <option value="high">é«˜ (5** æŒ‘æˆ°)</option>
                                    </select>
                                </div>
                                <div>
                                    <label className="block text-xs font-bold text-slate-500 mb-1">é¡Œå‹ (Type)</label>
                                    <select className="w-full border p-2 rounded text-sm" value={genSettings.type} onChange={e=>setGenSettings({...genSettings, type:e.target.value})}>
                                        <option value="mixed">MC + LQ (æ··åˆ)</option>
                                        <option value="mc">MC Only</option>
                                        <option value="lq">LQ Only</option>
                                    </select>
                                </div>
                            </div>
                            <div className="flex-1 flex flex-col min-h-0 border rounded-lg bg-slate-50">
                                <div className="p-2 border-b bg-slate-100 flex justify-between items-center">
                                    <span className="text-xs font-bold text-slate-600">é¸æ“‡èª²é¡Œ ({selectedTopics.length})</span>
                                    <button onClick={toggleAll} className="text-xs text-blue-600 hover:underline">{selectedTopics.length === sortedTopicKeys.length ? 'å…¨ä¸é¸' : 'å…¨é¸'}</button>
                                </div>
                                <div className="overflow-y-auto p-2 space-y-1 flex-1">
                                    {sortedTopicKeys.map(tid => {
                                        const s = studentStats[tid] || {earned:0, max:0};
                                        const hasData = s.max > 0;
                                        const pct = hasData ? Math.round((s.earned / s.max) * 100) : 0;
                                        let scoreColor = 'text-slate-400';
                                        if (hasData) {
                                            if (pct < 40) scoreColor = 'text-red-500 font-bold';
                                            else if (pct < 70) scoreColor = 'text-yellow-600 font-bold';
                                            else scoreColor = 'text-green-600 font-bold';
                                        }

                                        return (
                                            <label key={tid} className="flex items-center gap-2 p-2 hover:bg-white rounded cursor-pointer border border-transparent hover:border-slate-200">
                                                <input type="checkbox" checked={selectedTopics.includes(tid)} onChange={() => toggleTopic(tid)} className="w-4 h-4 rounded text-blue-600" />
                                                <div className="flex-1 min-w-0">
                                                    <div className="flex justify-between items-center">
                                                        <span className="text-xs font-mono font-bold text-slate-700">{tid}</span>
                                                        <span className={`text-xs ${scoreColor}`}>{hasData ? `${pct}%` : '--'}</span>
                                                    </div>
                                                    <div className="text-xs text-slate-500 truncate">{SYLLABUS_DATA[tid].topic}</div>
                                                </div>
                                            </label>
                                        );
                                    })}
                                </div>
                            </div>
                            <button onClick={generate} className="w-full py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-bold mt-4 shadow hover:shadow-lg">ç”Ÿæˆ Prompt âœ¨</button>
                        </div>
                        <div className="flex-1 bg-white p-6 rounded-xl shadow-sm h-full flex flex-col border border-slate-200">
                            <h3 className="font-bold text-slate-700 mb-2">ğŸ“ ç”Ÿæˆçµæœ (Prompt Output)</h3>
                            <textarea className="flex-1 w-full bg-slate-50 border p-4 rounded-lg font-mono text-sm resize-none outline-none" value={generatedPrompt} readOnly placeholder="è«‹åœ¨å·¦å´é¸æ“‡èª²é¡Œèˆ‡è¨­å®šï¼Œç„¶å¾Œé»æ“Šã€Œç”Ÿæˆ Promptã€..."></textarea>
                            <button onClick={()=>{navigator.clipboard.writeText(generatedPrompt); alert("å·²è¤‡è£½!")}} className="mt-4 py-3 bg-slate-800 text-white rounded-lg hover:bg-slate-700 font-bold flex justify-center gap-2">ğŸ“‹ è¤‡è£½ä¸¦è²¼çµ¦ AI</button>
                        </div>
                    </div>
                );
            };

            // ==========================
            // NEW: History View
            // ==========================
            const HistoryView = () => {
                const updateNote = (id, newNote) => {
                    setGenHistory(prev => prev.map(item => item.id === id ? { ...item, note: newNote } : item));
                };

                const deleteHistory = (id) => {
                    if(confirm("ç¢ºå®šåˆªé™¤æ­¤ç´€éŒ„?")) {
                        setGenHistory(prev => prev.filter(item => item.id !== id));
                    }
                };

                return (
                    <div className="max-w-6xl mx-auto bg-white p-8 rounded-xl shadow-sm min-h-[80vh]">
                        <h2 className="text-2xl font-bold mb-6 text-slate-800 flex items-center gap-2">ğŸ“œ ç·´ç¿’ç”Ÿæˆç´€éŒ„ (History)</h2>
                        
                        {genHistory.length === 0 ? (
                            <div className="text-center py-20 text-slate-400 bg-slate-50 rounded-lg">
                                å°šæœªç”Ÿæˆä»»ä½•ç·´ç¿’ã€‚å‰å¾€ã€ŒAI ç·´ç¿’ç”Ÿæˆã€é–‹å§‹å§ï¼
                            </div>
                        ) : (
                            <div className="overflow-x-auto">
                                <table className="w-full text-left border-collapse">
                                    <thead>
                                        <tr className="bg-slate-100 text-slate-600 text-sm">
                                            <th className="p-3 rounded-tl-lg">æ™‚é–“ / å­¸ç”Ÿ</th>
                                            <th className="p-3">è¨­å®š</th>
                                            <th className="p-3">èª²é¡Œ (Topics)</th>
                                            <th className="p-3 w-1/3">å‚™è¨» / åˆ†æ•¸ (Note & Score)</th>
                                            <th className="p-3 rounded-tr-lg text-right">æ“ä½œ</th>
                                        </tr>
                                    </thead>
                                    <tbody className="text-sm">
                                        {genHistory.map(item => (
                                            <tr key={item.id} className="border-b border-slate-100 hover:bg-slate-50">
                                                <td className="p-3 align-top">
                                                    <div className="font-bold text-slate-800">{new Date(item.timestamp).toLocaleDateString()}</div>
                                                    <div className="text-xs text-slate-400">{new Date(item.timestamp).toLocaleTimeString()}</div>
                                                    <div className="mt-1 text-blue-600 font-bold">{item.studentName}</div>
                                                </td>
                                                <td className="p-3 align-top">
                                                    <div className="flex flex-col gap-1">
                                                        <span className="bg-gray-200 text-gray-700 px-2 py-0.5 rounded text-xs w-fit">{item.settings.difficulty}</span>
                                                        <span className="bg-gray-200 text-gray-700 px-2 py-0.5 rounded text-xs w-fit">{item.settings.type}</span>
                                                        <span className="bg-gray-200 text-gray-700 px-2 py-0.5 rounded text-xs w-fit">{item.settings.lang}</span>
                                                    </div>
                                                </td>
                                                <td className="p-3 align-top">
                                                    <div className="flex flex-wrap gap-1">
                                                        {item.topics.map(t => (
                                                            <span key={t} className="border border-slate-300 px-1 rounded text-xs font-mono" title={SYLLABUS_DATA[t]?.topic}>
                                                                {t}
                                                            </span>
                                                        ))}
                                                    </div>
                                                </td>
                                                <td className="p-3 align-top">
                                                    <textarea 
                                                        className="w-full border border-blue-200 bg-blue-50 p-2 rounded text-xs focus:ring-1 focus:ring-blue-500 outline-none resize-none"
                                                        rows="3"
                                                        placeholder="åœ¨æ­¤è¼¸å…¥åˆ†æ•¸æˆ–å‚™è¨»..."
                                                        value={item.note || ''}
                                                        onChange={(e) => updateNote(item.id, e.target.value)}
                                                    ></textarea>
                                                </td>
                                                <td className="p-3 align-top text-right">
                                                    <button onClick={() => deleteHistory(item.id)} className="text-slate-400 hover:text-red-500 p-2">
                                                        âœ•
                                                    </button>
                                                </td>
                                            </tr>
                                        ))}
                                    </tbody>
                                </table>
                            </div>
                        )}
                    </div>
                );
            };

            return (
                <div className="flex min-h-screen">
                    <Sidebar />
                    <div className="flex-1 ml-64 p-8 overflow-y-auto h-screen">
                        {view === 'students' && <StudentsView />}
                        {view === 'input' && <InputView />}
                        {view === 'dashboard' && <DashboardView />}
                        {view === 'generate' && <GenerateView />}
                        {view === 'history' && <HistoryView />}
                        {view === 'data' && <DataView />}
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>







